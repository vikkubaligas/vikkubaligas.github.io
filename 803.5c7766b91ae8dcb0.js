"use strict";(self.webpackChunkaxen=self.webpackChunkaxen||[]).push([[803],{803:(lt,q,l)=>{l.r(q),l.d(q,{AdvanceTableModule:()=>it});var f=l(6895),s=l(4006),U=l(9299),b=l(2759),C=l(8739),T=l(6308),A=l(5017),L=l(4968),z=l(1135),X=l(6451),j=l(4004),d=l(5938),D=l(7930),e=l(4650),g=l(9549),y=l(4144),h=l(4859),x=l(7392),N=l(1948),Z=l(9602),p=l(6257);function W(t,o){1&t&&e._uU(0,"Basic details")}function ee(t,o){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Company is required "),e.qZA())}function te(t,o){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Model is required "),e.qZA())}function ae(t,o){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Select Single/Three phase "),e.qZA())}function re(t,o){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Power is required "),e.qZA())}function ne(t,o){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Please enter a valid Serial number "),e.qZA())}function oe(t,o){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Year of manufacturing is required "),e.qZA())}function ie(t,o){1&t&&e._uU(0,"Service details")}function le(t,o){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Oil volume is required "),e.qZA())}function me(t,o){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Service duration is required "),e.qZA())}function se(t,o){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Current hours run is required "),e.qZA())}function ce(t,o){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Last service is required "),e.qZA())}function ue(t,o){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Oil Filter number is required "),e.qZA())}function de(t,o){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Air Filter number is required "),e.qZA())}function pe(t,o){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Fuel Filter number is required "),e.qZA())}function _e(t,o){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Belt number is required "),e.qZA())}function fe(t,o){1&t&&e._uU(0,"Battery details")}function ge(t,o){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Battery Company is required "),e.qZA())}function he(t,o){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Service duration is required "),e.qZA())}function be(t,o){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Battery Capacity is required "),e.qZA())}function Te(t,o){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Installation Date is required "),e.qZA())}function Ze(t,o){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Installation Date is required "),e.qZA())}let F=(()=>{class t{constructor(r,a,n,i){this.dialogRef=r,this.data=a,this.advanceTableService=n,this.fb=i,this.formControl=new s.p4("",[s.kI.required]),this.action=a.action,"edit"===this.action?(this.dialogTitle=a.generator.id,this.generator=a.generator):(this.dialogTitle="New Generator",this.generator=new D.R({})),this.basicDetailsGroup=this.createBasicFormGroup(),this.serviceDetailsGroup=this.createServiceFormGroup(),this.batteryDetailsGroup=this.createBatteryFormGroup()}getErrorMessage(){return this.formControl.hasError("required")?"Required field":this.formControl.hasError("email")?"Not a valid email":""}createServiceFormGroup(){return this.fb.group({oilVol:[this.generator.oilVol],oilChangeDuration:[this.generator.oilChangeDuration],prevOilHour:[this.generator.prevOilHour,[s.kI.required]],hoursRun:[this.generator.hoursRun,[s.kI.required]],fuelFilterNumber:[this.generator.fuelFilterNumber],oilFilterNumber:[this.generator.oilFilterNumber],airFilterNumber:[this.generator.airFilterNumber],beltNumber:[this.generator.beltNumber]})}createBatteryFormGroup(){return this.fb.group({batteryCompanyName:[this.generator.batteryCompanyName],batteryCapacity:[this.generator.batteryCapacity],replaceDurationMonths:[this.generator.replaceDurationMonths],batterySerialNumber:[this.generator.batterySerialNumber,[s.kI.required]],installationDate:[this.generator.installationDate,[s.kI.required]]})}createBasicFormGroup(){return this.fb.group({id:[this.generator.id],model:[this.generator.model],companyName:[this.generator.companyName,[s.kI.required]],kw:[this.generator.kw,[s.kI.required]],serialNumber:[this.generator.serialNumber,[s.kI.required]],yearOfMnf:[this.generator.yearOfMnf],is3Phase:[this.generator.is3Phase,[s.kI.required]]})}submit(){}onNoClick(){this.dialogRef.close()}confirmAdd(){const r=new D.R(this.basicDetailsGroup.getRawValue());r.fillValuesFromBattery(this.batteryDetailsGroup.getRawValue()),r.fillValuesFromService(this.serviceDetailsGroup.getRawValue()),"edit"===this.action?this.advanceTableService.updateAdvanceTable(this.dialogTitle,r):this.advanceTableService.addAdvanceTable(r)}onKeydown(){const r=this.basicDetailsGroup.get("companyName")?.value.trim();if(r.length<4)return;const a=this.basicDetailsGroup.get("kw")?.value,n=this.basicDetailsGroup.get("is3Phase")?.value;this.advanceTableService.getGenId(r,a,n),this.advanceTableService.genId.subscribe({next:i=>{this.basicDetailsGroup.get("id")?.setValue(i)},error:i=>{console.log(i)}})}}return t.\u0275fac=function(r){return new(r||t)(e.Y36(d.so),e.Y36(d.WI),e.Y36(b.T),e.Y36(s.QS))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-form"]],decls:214,vars:34,consts:[[1,"addContainer"],[1,"modalHeader"],[1,"editRowModal"],[1,"modalHeader","clearfix"],[1,"modal-about"],[1,"fw-bold","p-t-5","p-l-10","font-17"],["mat-icon-button","","aria-label","Close dialog",1,"modal-close-button",3,"click"],["mat-dialog-content",""],[3,"linear"],["stepper",""],[3,"stepControl"],["matStepLabel",""],[1,"register-form","m-4",3,"formGroup","ngSubmit"],[1,"row"],["appearance","outline",1,"example-full-width"],["matInput","","formControlName","id",3,"readonly"],["matSuffix",""],[1,"col-xl-6","col-lg-6","col-md-12","col-sm-12","mb-2"],["matInput","","formControlName","companyName",3,"keydown"],[4,"ngIf"],["matInput","","formControlName","model"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12","mb-2"],[1,"m-b-20"],[1,"msr-3"],["aria-label","Select Phase","formControlName","is3Phase","required","",3,"change"],["value","False"],["value","True"],["matInput","","formControlName","kw","type","number",3,"keydown"],["matInput","","formControlName","serialNumber","required",""],["matInput","","formControlName","yearOfMnf","type","number"],[1,"example-button-row"],["mat-raised-button","","matStepperNext","","color","primary",3,"disabled"],["mat-raised-button","","color","warn","tabindex","-1",3,"click"],["matInput","","formControlName","oilVol","type","number"],["matInput","","formControlName","oilChangeDuration","type","number"],["matInput","","formControlName","hoursRun","type","number"],["matInput","","formControlName","prevOilHour","type","number"],["matInput","","formControlName","oilFilterNumber"],["matInput","","formControlName","airFilterNumber"],["matInput","","formControlName","fuelFilterNumber"],["matInput","","formControlName","beltNumber"],["mat-raised-button","","matStepperPrevious","","color","warn","tabindex","-1"],["matInput","","formControlName","batteryCompanyName"],["matInput","","formControlName","replaceDurationMonths","type","number"],["matInput","","formControlName","batteryCapacity","type","number"],["matInput","","formControlName","installationDate",3,"matDatepicker"],["matSuffix","",3,"for"],["picker",""],["matInput","","formControlName","batterySerialNumber"],["mat-raised-button","","matStepperNext","","color","primary",3,"mat-dialog-close","disabled","click"]],template:function(r,a){if(1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),e._uU(6),e.qZA()()()(),e.TgZ(7,"button",6),e.NdJ("click",function(){return a.dialogRef.close()}),e.TgZ(8,"mat-icon"),e._uU(9,"close"),e.qZA()()(),e.TgZ(10,"div",7)(11,"mat-vertical-stepper",8,9)(13,"mat-step",10),e.YNc(14,W,1,0,"ng-template",11),e.TgZ(15,"form",12),e.NdJ("ngSubmit",function(){return a.submit}),e.TgZ(16,"div",13)(17,"mat-form-field",14)(18,"mat-label"),e._uU(19,"Generator ID"),e.qZA(),e._UZ(20,"input",15),e.TgZ(21,"mat-icon",16),e._uU(22,"face"),e.qZA()()(),e.TgZ(23,"div",13)(24,"div",17)(25,"mat-form-field",14)(26,"mat-label"),e._uU(27,"Company"),e.qZA(),e.TgZ(28,"input",18),e.NdJ("keydown",function(){return a.onKeydown()}),e.qZA(),e.TgZ(29,"mat-icon",16),e._uU(30,"face"),e.qZA(),e.YNc(31,ee,2,0,"mat-error",19),e.qZA()(),e.TgZ(32,"div",17)(33,"mat-form-field",14)(34,"mat-label"),e._uU(35,"Model"),e.qZA(),e._UZ(36,"input",20),e.TgZ(37,"mat-icon",16),e._uU(38,"face"),e.qZA(),e.YNc(39,te,2,0,"mat-error",19),e.qZA()()(),e.TgZ(40,"div",13)(41,"div",21)(42,"div",22)(43,"mat-label",23),e._uU(44,"Phase"),e.qZA(),e.TgZ(45,"mat-radio-group",24),e.NdJ("change",function(){return a.onKeydown()}),e.TgZ(46,"mat-radio-button",25),e._uU(47,"Single Phase"),e.qZA(),e.TgZ(48,"mat-radio-button",26),e._uU(49,"Three Phase"),e.qZA(),e.YNc(50,ae,2,0,"mat-error",19),e.qZA()()(),e.TgZ(51,"div",21)(52,"mat-form-field",14)(53,"mat-label"),e._uU(54,"Power (Kw)"),e.qZA(),e.TgZ(55,"input",27),e.NdJ("keydown",function(){return a.onKeydown()}),e.qZA(),e.TgZ(56,"mat-icon",16),e._uU(57,"face"),e.qZA(),e.YNc(58,re,2,0,"mat-error",19),e.qZA()()(),e.TgZ(59,"div",13)(60,"div",17)(61,"mat-form-field",14)(62,"mat-label"),e._uU(63,"Serial number"),e.qZA(),e._UZ(64,"input",28),e.TgZ(65,"mat-icon",16),e._uU(66,"email"),e.qZA(),e.YNc(67,ne,2,0,"mat-error",19),e.qZA()(),e.TgZ(68,"div",17)(69,"mat-form-field",14)(70,"mat-label"),e._uU(71,"Year of Manufacturing"),e.qZA(),e._UZ(72,"input",29),e.TgZ(73,"mat-icon",16),e._uU(74,"phone"),e.qZA(),e.YNc(75,oe,2,0,"mat-error",19),e.qZA()()(),e.TgZ(76,"div",13)(77,"div",21)(78,"div",30)(79,"button",31),e._uU(80,"Next"),e.qZA(),e.TgZ(81,"button",32),e.NdJ("click",function(){return a.onNoClick()}),e._uU(82,"Cancel"),e.qZA()()()()()(),e.TgZ(83,"mat-step",10),e.YNc(84,ie,1,0,"ng-template",11),e.TgZ(85,"form",12),e.NdJ("ngSubmit",function(){return a.submit}),e.TgZ(86,"div",13)(87,"div",17)(88,"mat-form-field",14)(89,"mat-label"),e._uU(90,"Oil volume (ltr)"),e.qZA(),e._UZ(91,"input",33),e.TgZ(92,"mat-icon",16),e._uU(93,"phone"),e.qZA(),e.YNc(94,le,2,0,"mat-error",19),e.qZA()(),e.TgZ(95,"div",17)(96,"mat-form-field",14)(97,"mat-label"),e._uU(98,"Service duration (hrs)"),e.qZA(),e._UZ(99,"input",34),e.TgZ(100,"mat-icon",16),e._uU(101,"phone"),e.qZA(),e.YNc(102,me,2,0,"mat-error",19),e.qZA()()(),e.TgZ(103,"div",13)(104,"div",17)(105,"mat-form-field",14)(106,"mat-label"),e._uU(107,"Current hours run"),e.qZA(),e._UZ(108,"input",35),e.TgZ(109,"mat-icon",16),e._uU(110,"phone"),e.qZA(),e.YNc(111,se,2,0,"mat-error",19),e.qZA()(),e.TgZ(112,"div",17)(113,"mat-form-field",14)(114,"mat-label"),e._uU(115,"Last service (hrs)"),e.qZA(),e._UZ(116,"input",36),e.TgZ(117,"mat-icon",16),e._uU(118,"phone"),e.qZA(),e.YNc(119,ce,2,0,"mat-error",19),e.qZA()()(),e.TgZ(120,"div",13)(121,"div",17)(122,"mat-form-field",14)(123,"mat-label"),e._uU(124,"Oil Filter number"),e.qZA(),e._UZ(125,"input",37),e.TgZ(126,"mat-icon",16),e._uU(127,"phone"),e.qZA(),e.YNc(128,ue,2,0,"mat-error",19),e.qZA()(),e.TgZ(129,"div",17)(130,"mat-form-field",14)(131,"mat-label"),e._uU(132,"Air Filter number"),e.qZA(),e._UZ(133,"input",38),e.TgZ(134,"mat-icon",16),e._uU(135,"phone"),e.qZA(),e.YNc(136,de,2,0,"mat-error",19),e.qZA()()(),e.TgZ(137,"div",13)(138,"div",17)(139,"mat-form-field",14)(140,"mat-label"),e._uU(141,"Fuel Filter number"),e.qZA(),e._UZ(142,"input",39),e.TgZ(143,"mat-icon",16),e._uU(144,"phone"),e.qZA(),e.YNc(145,pe,2,0,"mat-error",19),e.qZA()(),e.TgZ(146,"div",17)(147,"mat-form-field",14)(148,"mat-label"),e._uU(149,"Belt number"),e.qZA(),e._UZ(150,"input",40),e.TgZ(151,"mat-icon",16),e._uU(152,"phone"),e.qZA(),e.YNc(153,_e,2,0,"mat-error",19),e.qZA()()(),e.TgZ(154,"div",13)(155,"div",21)(156,"div",30)(157,"button",31),e._uU(158,"Next"),e.qZA(),e.TgZ(159,"button",41),e._uU(160,"Previous"),e.qZA()()()()()(),e.TgZ(161,"mat-step",10),e.YNc(162,fe,1,0,"ng-template",11),e.TgZ(163,"form",12),e.NdJ("ngSubmit",function(){return a.submit}),e.TgZ(164,"div",13)(165,"div",17)(166,"mat-form-field",14)(167,"mat-label"),e._uU(168,"Battery Company"),e.qZA(),e._UZ(169,"input",42),e.TgZ(170,"mat-icon",16),e._uU(171,"phone"),e.qZA(),e.YNc(172,ge,2,0,"mat-error",19),e.qZA()(),e.TgZ(173,"div",17)(174,"mat-form-field",14)(175,"mat-label"),e._uU(176,"Replacement duration (months)"),e.qZA(),e._UZ(177,"input",43),e.TgZ(178,"mat-icon",16),e._uU(179,"phone"),e.qZA(),e.YNc(180,he,2,0,"mat-error",19),e.qZA()()(),e.TgZ(181,"div",13)(182,"div",17)(183,"mat-form-field",14)(184,"mat-label"),e._uU(185,"Battery Capacity (KwH)"),e.qZA(),e._UZ(186,"input",44),e.TgZ(187,"mat-icon",16),e._uU(188,"phone"),e.qZA(),e.YNc(189,be,2,0,"mat-error",19),e.qZA()(),e.TgZ(190,"div",17)(191,"mat-form-field",14)(192,"mat-label"),e._uU(193,"Installation Date"),e.qZA(),e._UZ(194,"input",45)(195,"mat-datepicker-toggle",46)(196,"mat-datepicker",null,47),e.YNc(198,Te,2,0,"mat-error",19),e.qZA()()(),e.TgZ(199,"div",13)(200,"mat-form-field",14)(201,"mat-label"),e._uU(202,"Battery serial number"),e.qZA(),e._UZ(203,"input",48),e.TgZ(204,"mat-icon",16),e._uU(205,"face"),e.qZA(),e.YNc(206,Ze,2,0,"mat-error",19),e.qZA()(),e.TgZ(207,"div",13)(208,"div",21)(209,"div",30)(210,"button",49),e.NdJ("click",function(){return a.confirmAdd()}),e._uU(211,"Add Generator"),e.qZA(),e.TgZ(212,"button",41),e._uU(213,"Previous"),e.qZA()()()()()()()()()),2&r){const n=e.MAs(197);let i,m,c,J,v,k,w,M,Q,R,Y,E,H,O,B,P,K,V,$;e.xp6(6),e.hij(" ",a.dialogTitle,""),e.xp6(5),e.Q6J("linear",!0),e.xp6(2),e.Q6J("stepControl",a.basicDetailsGroup),e.xp6(2),e.Q6J("formGroup",a.basicDetailsGroup),e.xp6(5),e.Q6J("readonly",!0),e.xp6(11),e.Q6J("ngIf",null==(i=a.basicDetailsGroup.get("companyName"))?null:i.hasError("required")),e.xp6(8),e.Q6J("ngIf",null==(m=a.basicDetailsGroup.get("model"))?null:m.hasError("required")),e.xp6(11),e.Q6J("ngIf",null==(c=a.basicDetailsGroup.get("is3Phase"))?null:c.hasError("required")),e.xp6(8),e.Q6J("ngIf",null==(J=a.basicDetailsGroup.get("kw"))?null:J.hasError("required")),e.xp6(9),e.Q6J("ngIf",(null==(v=a.basicDetailsGroup.get("serialNumber"))?null:v.hasError("required"))||(null==(v=a.basicDetailsGroup.get("serialNumber"))?null:v.touched)),e.xp6(8),e.Q6J("ngIf",null==(k=a.basicDetailsGroup.get("yearOfMnf"))?null:k.hasError("required")),e.xp6(4),e.Q6J("disabled",!a.basicDetailsGroup.valid),e.xp6(4),e.Q6J("stepControl",a.serviceDetailsGroup),e.xp6(2),e.Q6J("formGroup",a.serviceDetailsGroup),e.xp6(9),e.Q6J("ngIf",null==(w=a.serviceDetailsGroup.get("oilVol"))?null:w.hasError("required")),e.xp6(8),e.Q6J("ngIf",null==(M=a.serviceDetailsGroup.get("oilChangeDuration"))?null:M.hasError("required")),e.xp6(9),e.Q6J("ngIf",null==(Q=a.serviceDetailsGroup.get("hoursRun"))?null:Q.hasError("required")),e.xp6(8),e.Q6J("ngIf",null==(R=a.serviceDetailsGroup.get("prevOilHour"))?null:R.hasError("required")),e.xp6(9),e.Q6J("ngIf",null==(Y=a.serviceDetailsGroup.get("oilFilterNumber"))?null:Y.hasError("required")),e.xp6(8),e.Q6J("ngIf",null==(E=a.serviceDetailsGroup.get("airFilterNumber"))?null:E.hasError("required")),e.xp6(9),e.Q6J("ngIf",null==(H=a.serviceDetailsGroup.get("fuelFilterNumber"))?null:H.hasError("required")),e.xp6(8),e.Q6J("ngIf",null==(O=a.serviceDetailsGroup.get("beltNumber"))?null:O.hasError("required")),e.xp6(4),e.Q6J("disabled",!a.serviceDetailsGroup.valid),e.xp6(4),e.Q6J("stepControl",a.batteryDetailsGroup),e.xp6(2),e.Q6J("formGroup",a.batteryDetailsGroup),e.xp6(9),e.Q6J("ngIf",null==(B=a.batteryDetailsGroup.get("batteryCompanyName"))?null:B.hasError("required")),e.xp6(8),e.Q6J("ngIf",null==(P=a.batteryDetailsGroup.get("replaceDurationMonths"))?null:P.hasError("required")),e.xp6(9),e.Q6J("ngIf",null==(K=a.batteryDetailsGroup.get("batteryCapacity"))?null:K.hasError("required")),e.xp6(5),e.Q6J("matDatepicker",n),e.xp6(1),e.Q6J("for",n),e.xp6(3),e.Q6J("ngIf",null==(V=a.batteryDetailsGroup.get("installationDate"))?null:V.hasError("required")),e.xp6(8),e.Q6J("ngIf",null==($=a.batteryDetailsGroup.get("installationDate"))?null:$.hasError("required")),e.xp6(4),e.Q6J("mat-dialog-close",1)("disabled",!a.serviceDetailsGroup.valid)}},dependencies:[f.O5,s._Y,s.Fj,s.wV,s.JJ,s.JL,s.Q7,s.sg,s.u,g.KE,g.hX,g.TO,g.R9,y.Nt,h.lW,h.RK,x.Hw,N.VQ,N.U0,Z.Mq,Z.hl,Z.nW,d.ZT,d.xY,p.C0,p.VY,p.Vq,p.Ic,p.fd]}),t})();var ve=l(9098),Ce=l(3238),_=l(1561),Ae=l(9186),xe=l(6035),Ne=l(529),S=l(7009),u=l(7155),I=l(6709),G=l(1572),qe=l(266),Ue=l(1676),De=l(1299);const ye=["filter"];function Fe(t,o){if(1&t&&(e.TgZ(0,"div",56),e._UZ(1,"app-breadcrumb",57),e.qZA()),2&t){const r=o.$implicit;e.xp6(1),e.Q6J("title",r.title)("items",r.items)("active_item",r.active)}}function Se(t,o){if(1&t){const r=e.EpF();e.TgZ(0,"mat-header-cell",58)(1,"mat-checkbox",59),e.NdJ("change",function(n){e.CHM(r);const i=e.oxw();return e.KtG(n?i.masterToggle():null)}),e.qZA()()}if(2&t){const r=e.oxw();e.Q6J("ngClass","tbl-col-width-per-6"),e.xp6(1),e.Q6J("checked",r.selection.hasValue()&&r.isAllSelected())("indeterminate",r.selection.hasValue()&&!r.isAllSelected())("ngClass","tbl-checkbox")}}function Ie(t,o){if(1&t){const r=e.EpF();e.TgZ(0,"mat-cell",58)(1,"mat-checkbox",60),e.NdJ("click",function(n){return n.stopPropagation()})("change",function(n){const m=e.CHM(r).$implicit,c=e.oxw();return e.KtG(n?c.selection.toggle(m):null)}),e.qZA()()}if(2&t){const r=o.$implicit,a=e.oxw();e.Q6J("ngClass","tbl-col-width-per-6"),e.xp6(1),e.Q6J("checked",a.selection.isSelected(r))("ngClass","tbl-checkbox")}}function Ge(t,o){1&t&&(e.TgZ(0,"mat-header-cell",61),e._uU(1,"Generator ID"),e.qZA())}function Je(t,o){if(1&t&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&t){const r=o.$implicit;e.xp6(1),e.Oqu(r.id)}}function ke(t,o){1&t&&(e.TgZ(0,"mat-header-cell",61),e._uU(1,"Serial Number"),e.qZA())}function we(t,o){if(1&t){const r=e.EpF();e.TgZ(0,"mat-cell",62),e.NdJ("contextmenu",function(n){const m=e.CHM(r).$implicit,c=e.oxw();return e.KtG(c.onContextMenu(n,m))}),e.TgZ(1,"span",63),e._uU(2,"Serial Number:"),e.qZA(),e._uU(3),e.qZA()}if(2&t){const r=o.$implicit;e.xp6(3),e.Oqu(r.serialNumber)}}function Me(t,o){1&t&&(e.TgZ(0,"mat-header-cell",61),e._uU(1,"Hours Run"),e.qZA())}function Qe(t,o){if(1&t){const r=e.EpF();e.TgZ(0,"mat-cell",62),e.NdJ("contextmenu",function(n){const m=e.CHM(r).$implicit,c=e.oxw();return e.KtG(c.onContextMenu(n,m))}),e.TgZ(1,"span",63),e._uU(2,"Hours Run:"),e.qZA(),e._uU(3),e.qZA()}if(2&t){const r=o.$implicit;e.xp6(3),e.Oqu(r.hoursRun)}}function Re(t,o){1&t&&(e.TgZ(0,"mat-header-cell",61),e._uU(1,"Remaining Hours"),e.qZA())}function Ye(t,o){if(1&t){const r=e.EpF();e.TgZ(0,"mat-cell",62),e.NdJ("contextmenu",function(n){const m=e.CHM(r).$implicit,c=e.oxw();return e.KtG(c.onContextMenu(n,m))}),e.TgZ(1,"span",63),e._uU(2,"Last Service:"),e.qZA(),e._uU(3),e.qZA()}if(2&t){const r=o.$implicit;e.xp6(3),e.hij(" ",r.getRemainingHours(),"")}}function Ee(t,o){1&t&&(e.TgZ(0,"mat-header-cell",61),e._uU(1," Status "),e.qZA())}function He(t,o){if(1&t){const r=e.EpF();e.TgZ(0,"mat-cell",64),e.NdJ("contextmenu",function(n){const m=e.CHM(r).$implicit,c=e.oxw();return e.KtG(c.onContextMenu(n,m))}),e.TgZ(1,"span",63),e._uU(2,"Status"),e.qZA(),e.TgZ(3,"span",65),e._uU(4),e.qZA()()}if(2&t){const r=o.$implicit;e.xp6(4),e.Oqu(r.getStatus())}}function Oe(t,o){1&t&&(e.TgZ(0,"mat-header-cell",66),e._uU(1,"Actions"),e.qZA())}function Be(t,o){if(1&t){const r=e.EpF();e.TgZ(0,"mat-cell",66)(1,"button",67),e.NdJ("click",function(n){return n.stopPropagation()})("click",function(){const i=e.CHM(r).$implicit,m=e.oxw();return e.KtG(m.editCall(i))}),e._UZ(2,"app-feather-icons",68),e.qZA(),e.TgZ(3,"button",67),e.NdJ("click",function(n){return n.stopPropagation()})("click",function(){const i=e.CHM(r).$implicit,m=e.oxw();return e.KtG(m.deleteItem(i))}),e._UZ(4,"app-feather-icons",68),e.qZA()()}2&t&&(e.xp6(2),e.Tol("tbl-fav-edit"),e.Q6J("icon","edit"),e.xp6(2),e.Tol("tbl-fav-delete"),e.Q6J("icon","trash-2"))}function Pe(t,o){1&t&&e._UZ(0,"mat-header-row")}function Ke(t,o){if(1&t){const r=e.EpF();e.TgZ(0,"mat-row",69),e.NdJ("click",function(){const i=e.CHM(r).$implicit,m=e.oxw();return e.KtG(m.editCall(i))}),e.qZA()}2&t&&e.Udp("cursor","pointer")}function Ve(t,o){1&t&&(e.TgZ(0,"div",70),e._UZ(1,"mat-progress-spinner",71),e.qZA()),2&t&&(e.xp6(1),e.Q6J("diameter",40))}function $e(t,o){if(1&t){const r=e.EpF();e.TgZ(0,"button",72),e.NdJ("click",function(){e.CHM(r);const n=e.oxw();return e.KtG(n.addNew())}),e.TgZ(1,"mat-icon"),e._uU(2,"add_box"),e.qZA(),e.TgZ(3,"span"),e._uU(4,"Add Record"),e.qZA()(),e.TgZ(5,"button",72),e.NdJ("click",function(){const i=e.CHM(r).item,m=e.oxw();return e.KtG(m.editCall(i))}),e.TgZ(6,"mat-icon"),e._uU(7,"create"),e.qZA(),e.TgZ(8,"span"),e._uU(9,"Edit Record"),e.qZA()(),e.TgZ(10,"button",72),e.NdJ("click",function(){const i=e.CHM(r).item,m=e.oxw();return e.KtG(m.deleteItem(i))}),e.TgZ(11,"mat-icon"),e._uU(12,"delete"),e.qZA(),e.TgZ(13,"span"),e._uU(14,"Delete Record"),e.qZA()(),e.TgZ(15,"button",72),e.NdJ("click",function(){e.CHM(r);const n=e.oxw();return e.KtG(n.refresh())}),e.TgZ(16,"mat-icon"),e._uU(17,"refresh"),e.qZA(),e.TgZ(18,"span"),e._uU(19,"Refresh Record"),e.qZA()(),e.TgZ(20,"button",73)(21,"mat-icon"),e._uU(22,"no_encryption"),e.qZA(),e.TgZ(23,"span"),e._uU(24,"Disable"),e.qZA()(),e.TgZ(25,"button",74)(26,"mat-icon"),e._uU(27,"list_alt"),e.qZA(),e.TgZ(28,"span"),e._uU(29," Nested Menu"),e.qZA()()}if(2&t){e.oxw();const r=e.MAs(71);e.xp6(25),e.Q6J("matMenuTriggerFor",r)}}function Le(t,o){if(1&t&&(e.TgZ(0,"div",75),e._uU(1," No results "),e.qZA()),2&t){const r=e.oxw();e.Udp("display",0===r.dataSource.renderedData.length?"":"none")}}const ze=function(){return[5,10,25,100]};let Xe=(()=>{class t extends Ae.n{constructor(r,a,n,i){super(),this.httpClient=r,this.dialog=a,this.advanceTableService=n,this.snackBar=i,this.displayedColumns=["select","generatorId","serialNumber","hoursRun","prevOilHour","status","actions"],this.selection=new A.Ov(!0,[]),this.breadscrums=[{title:"Generators",items:["Generators"],active:"All"}],this.contextMenuPosition={x:"0px",y:"0px"}}ngOnInit(){this.loadData()}refresh(){this.loadData()}addNew(){const r=this.dialog.open(F,{data:{generator:this.generator,action:"add"}});this.subs.sink=r.afterClosed().subscribe(a=>{1===a&&(this.exampleDatabase?.dataChange.value.unshift(this.advanceTableService.getDialogData()),this.refreshTable(),this.showNotification("snackbar-success","Add Record Successfully...!!!","bottom","center"))})}editCall(r){this.id=r.id;const a=this.dialog.open(F,{data:{generator:r,action:"edit"}});this.subs.sink=a.afterClosed().subscribe(n=>{if(1===n){const i=this.exampleDatabase?.dataChange.value.findIndex(m=>m.id===this.id);null!=i&&this.exampleDatabase&&(this.exampleDatabase.dataChange.value[i]=this.advanceTableService.getDialogData(),this.refreshTable(),this.showNotification("black","Edit Record Successfully...!!!","bottom","center"))}})}deleteItem(r){this.id=r.id;const a=this.dialog.open(ve.P,{data:{generator:r,action:"edit"}});this.subs.sink=a.afterClosed().subscribe(n=>{if(1===n){const i=this.exampleDatabase?.dataChange.value.findIndex(m=>m.id===this.id);null!=i&&this.exampleDatabase&&(this.exampleDatabase.dataChange.value.splice(i,1),this.refreshTable(),this.showNotification("snackbar-danger","Delete Record Successfully...!!!","bottom","center"))}})}refreshTable(){this.paginator._changePageSize(this.paginator.pageSize)}isAllSelected(){return this.selection.selected.length===this.dataSource.renderedData.length}masterToggle(){this.isAllSelected()?this.selection.clear():this.dataSource.renderedData.forEach(r=>this.selection.select(r))}removeSelectedRows(){const r=this.selection.selected.length;this.selection.selected.forEach(a=>{const n=this.dataSource.renderedData.findIndex(i=>i===a);this.exampleDatabase?.dataChange.value.splice(n,1),this.refreshTable(),this.selection=new A.Ov(!0,[])}),this.showNotification("snackbar-danger",r+" Record Delete Successfully...!!!","bottom","center")}loadData(){this.exampleDatabase=new b.T(this.httpClient),this.dataSource=new je(this.exampleDatabase,this.paginator,this.sort),this.subs.sink=(0,L.R)(this.filter.nativeElement,"keyup").subscribe(()=>{this.dataSource&&(this.dataSource.filter=this.filter.nativeElement.value)})}showNotification(r,a,n,i){this.snackBar.open(a,"",{duration:2e3,verticalPosition:n,horizontalPosition:i,panelClass:r})}exportExcel(){const r=this.dataSource.filteredData.map(a=>({"Generator ID":a.id,"Serial Number":a.serialNumber,"Hours run":a.hoursRun,"Last service":a.prevOilHour,Status:a.getStatus()}));xe.c.exportToExcel(r,"excel")}onContextMenu(r,a){r.preventDefault(),this.contextMenuPosition.x=r.clientX+"px",this.contextMenuPosition.y=r.clientY+"px",void 0!==this.contextMenu&&null!==this.contextMenu.menu&&(this.contextMenu.menuData={item:a},this.contextMenu.menu.focusFirstItem("mouse"),this.contextMenu.openMenu())}}return t.\u0275fac=function(r){return new(r||t)(e.Y36(Ne.eN),e.Y36(d.uw),e.Y36(b.T),e.Y36(S.ux))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-advance-table"]],viewQuery:function(r,a){if(1&r&&(e.Gf(C.NW,7),e.Gf(T.YE,7),e.Gf(ye,7),e.Gf(_.p6,5)),2&r){let n;e.iGM(n=e.CRH())&&(a.paginator=n.first),e.iGM(n=e.CRH())&&(a.sort=n.first),e.iGM(n=e.CRH())&&(a.filter=n.first),e.iGM(n=e.CRH())&&(a.contextMenu=n.first)}},features:[e._Bn([{provide:Ce.Ad,useValue:"en-GB"}]),e.qOj],decls:90,vars:17,consts:[[1,"content"],[1,"content-block"],["class","block-header",4,"ngFor","ngForOf"],[1,"row"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12"],[1,"card"],[1,"materialTableHeader"],[1,"left"],[1,"header-buttons-left","ms-0"],[1,"tbl-title"],[1,"tbl-search-box"],["for","search-input"],[1,"material-icons","search-icon"],["placeholder","Search","type","text","aria-label","Search box",1,"browser-default","search-field"],["filter",""],[1,"right"],[1,"tbl-export-btn"],[1,"tbl-header-btn"],["matTooltip","ADD",1,"m-l-10"],["mat-mini-fab","","color","primary",3,"click"],[1,"col-white"],["matTooltip","REFRESH",1,"m-l-10"],["matTooltip","DELETE",1,"m-l-10",3,"hidden"],["mat-mini-fab","","color","warn",3,"click"],["matTooltip","XLSX",1,"export-button","m-l-10"],["src","assets/images/icons/xlsx.png","alt","",3,"click"],[1,"body","overflow-auto"],[1,"table-responsive"],["mat-table","","matSort","",1,"table","mat-cell",3,"dataSource"],["table",""],["matColumnDef","select"],[3,"ngClass",4,"matHeaderCellDef"],[3,"ngClass",4,"matCellDef"],["matColumnDef","generatorId"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","serialNumber"],[3,"contextmenu",4,"matCellDef"],["matColumnDef","hoursRun"],["matColumnDef","prevOilHour"],["matColumnDef","status"],["mat-cell","",3,"contextmenu",4,"matCellDef"],["matColumnDef","actions"],["class","pr-0",4,"matHeaderCellDef"],["class","pr-0",4,"matCellDef"],[4,"matHeaderRowDef"],["matRipple","",3,"cursor","click",4,"matRowDef","matRowDefColumns"],["class","tbl-spinner",4,"ngIf"],[2,"visibility","hidden","position","fixed",3,"matMenuTriggerFor"],["contextMenu","matMenu"],["matMenuContent",""],["nestedmenu","matMenu"],["mat-menu-item",""],["class","no-results",3,"display",4,"ngIf"],[3,"length","pageIndex","pageSize","pageSizeOptions"],["paginator",""],[1,"block-header"],[3,"title","items","active_item"],[3,"ngClass"],[3,"checked","indeterminate","ngClass","change"],[3,"checked","ngClass","click","change"],["mat-sort-header",""],[3,"contextmenu"],[1,"mobile-label"],["mat-cell","",3,"contextmenu"],[1,"badge","badge-solid-green"],[1,"pr-0"],["mat-icon-button","","color","accent",1,"tbl-action-btn",3,"click"],[3,"icon"],["matRipple","",3,"click"],[1,"tbl-spinner"],["color","primary","mode","indeterminate",3,"diameter"],["mat-menu-item","",3,"click"],["mat-menu-item","","disabled",""],["mat-menu-item","",3,"matMenuTriggerFor"],[1,"no-results"]],template:function(r,a){if(1&r&&(e.TgZ(0,"section",0)(1,"div",1),e.YNc(2,Fe,2,3,"div",2),e.TgZ(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"ul",8)(9,"li",9)(10,"h2"),e._uU(11,"Generators"),e.qZA()(),e.TgZ(12,"li",10)(13,"label",11)(14,"i",12),e._uU(15,"search"),e.qZA()(),e._UZ(16,"input",13,14),e.qZA()()(),e.TgZ(18,"div",15)(19,"ul",16)(20,"li",17)(21,"div",18)(22,"button",19),e.NdJ("click",function(){return a.addNew()}),e.TgZ(23,"mat-icon",20),e._uU(24,"add"),e.qZA()()()(),e.TgZ(25,"li",17)(26,"div",21)(27,"button",19),e.NdJ("click",function(){return a.refresh()}),e.TgZ(28,"mat-icon",20),e._uU(29,"refresh"),e.qZA()()()(),e.TgZ(30,"li",17)(31,"div",22)(32,"button",23),e.NdJ("click",function(){return a.removeSelectedRows()}),e.TgZ(33,"mat-icon",20),e._uU(34,"delete "),e.qZA()()()(),e.TgZ(35,"li")(36,"div",24)(37,"img",25),e.NdJ("click",function(){return a.exportExcel()}),e.qZA()()()()()(),e.TgZ(38,"div",26)(39,"div",27)(40,"table",28,29),e.ynx(42,30),e.YNc(43,Se,2,4,"mat-header-cell",31),e.YNc(44,Ie,2,3,"mat-cell",32),e.BQk(),e.ynx(45,33),e.YNc(46,Ge,2,0,"mat-header-cell",34),e.YNc(47,Je,2,1,"mat-cell",35),e.BQk(),e.ynx(48,36),e.YNc(49,ke,2,0,"mat-header-cell",34),e.YNc(50,we,4,1,"mat-cell",37),e.BQk(),e.ynx(51,38),e.YNc(52,Me,2,0,"mat-header-cell",34),e.YNc(53,Qe,4,1,"mat-cell",37),e.BQk(),e.ynx(54,39),e.YNc(55,Re,2,0,"mat-header-cell",34),e.YNc(56,Ye,4,1,"mat-cell",37),e.BQk(),e.ynx(57,40),e.YNc(58,Ee,2,0,"mat-header-cell",34),e.YNc(59,He,5,1,"mat-cell",41),e.BQk(),e.ynx(60,42),e.YNc(61,Oe,2,0,"mat-header-cell",43),e.YNc(62,Be,5,6,"mat-cell",44),e.BQk(),e.YNc(63,Pe,1,0,"mat-header-row",45),e.YNc(64,Ke,1,2,"mat-row",46),e.qZA()(),e.YNc(65,Ve,2,1,"div",47),e._UZ(66,"div",48),e.TgZ(67,"mat-menu",null,49),e.YNc(69,$e,30,1,"ng-template",50),e.qZA(),e.TgZ(70,"mat-menu",null,51)(72,"button",52)(73,"mat-icon"),e._uU(74,"mail_outline"),e.qZA(),e.TgZ(75,"span"),e._uU(76,"Item 1"),e.qZA()(),e.TgZ(77,"button",52)(78,"mat-icon"),e._uU(79,"call"),e.qZA(),e.TgZ(80,"span"),e._uU(81,"Item 2"),e.qZA()(),e.TgZ(82,"button",52)(83,"mat-icon"),e._uU(84,"chat"),e.qZA(),e.TgZ(85,"span"),e._uU(86,"Item 3"),e.qZA()()(),e.YNc(87,Le,2,2,"div",53),e._UZ(88,"mat-paginator",54,55),e.qZA()()()()()()),2&r){const n=e.MAs(68);e.xp6(2),e.Q6J("ngForOf",a.breadscrums),e.xp6(29),e.Q6J("hidden",!a.selection.hasValue()),e.xp6(9),e.Q6J("dataSource",a.dataSource),e.xp6(23),e.Q6J("matHeaderRowDef",a.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",a.displayedColumns),e.xp6(1),e.Q6J("ngIf",null==a.exampleDatabase?null:a.exampleDatabase.isTblLoading),e.xp6(1),e.Udp("left",a.contextMenuPosition.x)("top",a.contextMenuPosition.y),e.Q6J("matMenuTriggerFor",n),e.xp6(21),e.Q6J("ngIf",!(null!=a.exampleDatabase&&a.exampleDatabase.isTblLoading)),e.xp6(1),e.Q6J("length",a.dataSource.filteredData.length)("pageIndex",0)("pageSize",10)("pageSizeOptions",e.DdM(16,ze))}},dependencies:[f.mk,f.sg,f.O5,u.BZ,u.fO,u.as,u.w1,u.Dz,u.nj,u.ge,u.ev,u.XQ,u.Gk,C.NW,h.RK,h.nh,x.Hw,I.oG,G.Ou,T.YE,T.nU,_.VK,_.OP,_.KA,_.p6,qe.gM,Ue.A,De.L]}),t})();class je extends A.o2{get filter(){return this.filterChange.value}set filter(o){this.filterChange.next(o)}constructor(o,r,a){super(),this.exampleDatabase=o,this.paginator=r,this._sort=a,this.filterChange=new z.X(""),this.filteredData=[],this.renderedData=[],this.filterChange.subscribe(()=>this.paginator.pageIndex=0)}connect(){const o=[this.exampleDatabase.dataChange,this._sort.sortChange,this.filterChange,this.paginator.page];return this.exampleDatabase.getAllAdvanceTables(),(0,X.T)(...o).pipe((0,j.U)(()=>{this.filteredData=this.exampleDatabase.data.slice().filter(n=>-1!==(n.companyName+n.model+n.id+n.serialNumber+n.beltNumber+n.oilFilterNumber+n.fuelFilterNumber+n.airFilterNumber+n.batterySerialNumber).toLowerCase().indexOf(this.filter.toLowerCase()));const r=this.sortData(this.filteredData.slice());return this.renderedData=r.splice(this.paginator.pageIndex*this.paginator.pageSize,this.paginator.pageSize),this.renderedData}))}disconnect(){}sortData(o){return this._sort.active&&""!==this._sort.direction?o.sort((r,a)=>{let n="",i="";switch(this._sort.active){case"id":case"generatorId":[n,i]=[r.id,a.id];break;case"serialNumber":[n,i]=[r.serialNumber,a.serialNumber];break;case"hoursRun":[n,i]=[r.hoursRun,a.hoursRun];break;case"prevOilHour":[n,i]=[r.getRemainingHours(),a.getRemainingHours()]}return((isNaN(+n)?n:+n)<(isNaN(+i)?i:+i)?-1:1)*("asc"===this._sort.direction?1:-1)}):o}}const We=[{path:"",component:Xe}];let et=(()=>{class t{}return t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[U.Bz.forChild(We),U.Bz]}),t})();var tt=l(4385),at=l(3546),rt=l(3683),nt=l(1783),ot=l(5626);let it=(()=>{class t{}return t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({providers:[b.T],imports:[f.ez,s.u5,s.UX,et,u.p0,C.TU,g.lN,y.c,S.ZX,h.ot,x.Ps,N.Fk,tt.LD,I.p9,at.QW,Z.FA,G.Cq,d.Is,T.JX,rt.g0,_.Tx,nt.m,ot.K,p.T5]}),t})()}}]);
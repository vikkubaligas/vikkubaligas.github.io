"use strict";(self.webpackChunkaxen=self.webpackChunkaxen||[]).push([[945],{945:(Mt,A,s)=>{s.r(A),s.d(A,{CustomerModule:()=>St});var d=s(6895),m=s(4006),f=s(9299),k=s(3238),N=s(9186),Z=s(5017),v=s(8739),g=s(6308),p=s(1561),q=s(9098),J=s(4968),G=s(1135),E=s(6451),Y=s(6035),P=s(4004),_=s(1781),t=s(4650),U=s(529),D=s(5938),T=s(7009),u=s(7155),x=s(4859),b=s(7392),w=s(6709),y=s(1572),Q=s(266),S=s(1299),L=s(3162);const I=["filter"];function R(n,a){if(1&n&&(t.TgZ(0,"div",56),t._UZ(1,"app-breadcrumb",57),t.qZA()),2&n){const e=a.$implicit;t.xp6(1),t.Q6J("title",e.title)("items",e.items)("active_item",e.active)}}function B(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"mat-header-cell",58)(1,"mat-checkbox",59),t.NdJ("change",function(i){t.CHM(e);const l=t.oxw();return t.KtG(i?l.masterToggle():null)}),t.qZA()()}if(2&n){const e=t.oxw();t.Q6J("ngClass","tbl-col-width-per-6"),t.xp6(1),t.Q6J("checked",e.selection.hasValue()&&e.isAllSelected())("indeterminate",e.selection.hasValue()&&!e.isAllSelected())("ngClass","tbl-checkbox")}}function F(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"mat-cell",58)(1,"mat-checkbox",60),t.NdJ("click",function(i){return i.stopPropagation()})("change",function(i){const r=t.CHM(e).$implicit,c=t.oxw();return t.KtG(i?c.selection.toggle(r):null)}),t.qZA()()}if(2&n){const e=a.$implicit,o=t.oxw();t.Q6J("ngClass","tbl-col-width-per-6"),t.xp6(1),t.Q6J("checked",o.selection.isSelected(e))("ngClass","tbl-checkbox")}}function O(n,a){1&n&&(t.TgZ(0,"mat-header-cell",61),t._uU(1,"Name"),t.qZA())}function H(n,a){if(1&n&&(t.TgZ(0,"mat-cell"),t._uU(1),t.qZA()),2&n){const e=a.$implicit;t.xp6(1),t.Oqu(e.name)}}function $(n,a){1&n&&(t.TgZ(0,"mat-header-cell",61),t._uU(1,"Place"),t.qZA())}function K(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"mat-cell",62),t.NdJ("contextmenu",function(i){const r=t.CHM(e).$implicit,c=t.oxw();return t.KtG(c.onContextMenu(i,r))}),t.TgZ(1,"span",63),t._uU(2,"Place:"),t.qZA(),t._uU(3),t.qZA()}if(2&n){const e=a.$implicit;t.xp6(3),t.Oqu(e.place)}}function j(n,a){1&n&&(t.TgZ(0,"mat-header-cell",61),t._uU(1,"Address"),t.qZA())}function z(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"mat-cell",62),t.NdJ("contextmenu",function(i){const r=t.CHM(e).$implicit,c=t.oxw();return t.KtG(c.onContextMenu(i,r))}),t.TgZ(1,"span",63),t._uU(2,"Address:"),t.qZA(),t._uU(3),t.qZA()}if(2&n){const e=a.$implicit;t.xp6(3),t.Oqu(e.address)}}function X(n,a){1&n&&(t.TgZ(0,"mat-header-cell",61),t._uU(1,"Generators"),t.qZA())}function V(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"mat-cell",62),t.NdJ("contextmenu",function(i){const r=t.CHM(e).$implicit,c=t.oxw();return t.KtG(c.onContextMenu(i,r))}),t.TgZ(1,"span",63),t._uU(2,"Generators"),t.qZA(),t._uU(3,"None"),t.qZA()}}function W(n,a){1&n&&(t.TgZ(0,"mat-header-cell",61),t._uU(1,"Pending (\u20b9)"),t.qZA())}function tt(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"mat-cell",62),t.NdJ("contextmenu",function(i){const r=t.CHM(e).$implicit,c=t.oxw();return t.KtG(c.onContextMenu(i,r))}),t.TgZ(1,"span",63),t._uU(2,"Pending (\u20b9):"),t.qZA(),t._uU(3),t.qZA()}if(2&n){const e=a.$implicit;t.xp6(3),t.hij(" ",e.getPending()," ")}}function et(n,a){1&n&&(t.TgZ(0,"mat-header-cell",61),t._uU(1,"Received (\u20b9)"),t.qZA())}function nt(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"mat-cell",62),t.NdJ("contextmenu",function(i){const r=t.CHM(e).$implicit,c=t.oxw();return t.KtG(c.onContextMenu(i,r))}),t.TgZ(1,"span",63),t._uU(2,"Received (\u20b9):"),t.qZA(),t._uU(3),t.qZA()}if(2&n){const e=a.$implicit;t.xp6(3),t.hij(" ",e.getReceived()," ")}}function ot(n,a){1&n&&(t.TgZ(0,"mat-header-cell",61),t._uU(1,"Receivables"),t.qZA())}function it(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"mat-cell",62),t.NdJ("contextmenu",function(i){const r=t.CHM(e).$implicit,c=t.oxw();return t.KtG(c.onContextMenu(i,r))}),t.TgZ(1,"span",63),t._uU(2,"Receivables:"),t.qZA(),t.TgZ(3,"mat-progress-bar",64),t._uU(4),t.qZA()()}if(2&n){const e=a.$implicit;t.xp6(3),t.Q6J("value",e.amountProgress.progress)("color",e.amountProgress.color2),t.xp6(1),t.hij(" ",e.getPending()," ")}}function at(n,a){1&n&&(t.TgZ(0,"mat-header-cell",61),t._uU(1,"Total (\u20b9)"),t.qZA())}function st(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"mat-cell",62),t.NdJ("contextmenu",function(i){const r=t.CHM(e).$implicit,c=t.oxw();return t.KtG(c.onContextMenu(i,r))}),t.TgZ(1,"span",63),t._uU(2,"Total (\u20b9):"),t.qZA(),t._uU(3),t.qZA()}if(2&n){const e=a.$implicit;t.xp6(3),t.hij(" ",e.total," ")}}function lt(n,a){1&n&&(t.TgZ(0,"mat-header-cell",65),t._uU(1,"Actions"),t.qZA())}function rt(n,a){1&n&&(t.TgZ(0,"mat-cell",65)(1,"button",66),t.NdJ("click",function(o){return o.stopPropagation()}),t._UZ(2,"i",58),t.qZA(),t.TgZ(3,"button",66),t.NdJ("click",function(o){return o.stopPropagation()}),t._UZ(4,"i",58),t.qZA(),t.TgZ(5,"button",66),t.NdJ("click",function(o){return o.stopPropagation()}),t._UZ(6,"i",58),t.qZA()()),2&n&&(t.xp6(2),t.Q6J("ngClass","fas fa-history card-icon col-orange font-18"),t.xp6(2),t.Q6J("ngClass","fas fa-truck-loading card-icon col-orange font-18"),t.xp6(2),t.Q6J("ngClass","fas fa-rupee-sign card-icon col-orange font-18"))}function ct(n,a){1&n&&t._UZ(0,"mat-header-row")}function mt(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"mat-row",67),t.NdJ("click",function(){const l=t.CHM(e).$implicit,r=t.oxw();return t.KtG(r.viewCall(l))}),t.qZA()}2&n&&t.Udp("cursor","pointer")}function ut(n,a){1&n&&(t.TgZ(0,"div",68),t._UZ(1,"mat-progress-spinner",69),t.qZA()),2&n&&(t.xp6(1),t.Q6J("diameter",40))}function dt(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"button",70),t.NdJ("click",function(){const l=t.CHM(e).item,r=t.oxw();return t.KtG(r.editCall(l))}),t.TgZ(1,"mat-icon"),t._uU(2,"create"),t.qZA(),t.TgZ(3,"span"),t._uU(4),t.qZA()(),t.TgZ(5,"button",70),t.NdJ("click",function(){const l=t.CHM(e).item,r=t.oxw();return t.KtG(r.deleteItem(l))}),t.TgZ(6,"mat-icon"),t._uU(7,"delete"),t.qZA(),t.TgZ(8,"span"),t._uU(9),t.qZA()()}if(2&n){const e=a.item;t.xp6(4),t.hij("Edit ",e.name,""),t.xp6(5),t.hij("Delete ",e.name,"")}}function pt(n,a){if(1&n&&(t.TgZ(0,"div",71),t._uU(1," No results "),t.qZA()),2&n){const e=t.oxw();t.Udp("display",0===e.dataSource.renderedData.length?"":"none")}}const ht=function(){return[5,10,25,100]};let ft=(()=>{class n extends N.n{constructor(e,o,i,l,r){super(),this.httpClient=e,this.dialog=o,this.customerService=i,this.snackBar=l,this.router=r,this.displayedColumns=["select","name","place","address","generators","pending","received","total","percentage","actions"],this.selection=new Z.Ov(!0,[]),this.breadscrums=[{title:"Customers",items:["Customers"],active:"All"}],this.contextMenuPosition={x:"0px",y:"0px"}}ngOnInit(){this.loadData()}refresh(){this.loadData()}addNew(){this.router.navigateByUrl("/customers/new",{state:{customer:this.customer,action:"add"}})}viewCall(e){this.id=e.id,this.router.navigateByUrl("/customers/new",{state:{id:e.id,customer:e,action:"view"}})}editCall(e){this.id=e.id,this.router.navigateByUrl("/customers/new",{state:{id:e.id,customer:e,action:"edit"}})}deleteItem(e){this.id=e.id;const o=this.dialog.open(q.P,{data:{action:"del",generator:e,type:"cust",delId:e.id}});this.subs.sink=o.afterClosed().subscribe(i=>{if(1===i){const l=this.exampleDatabase?.dataChange.value.findIndex(r=>r.id===this.id);null!=l&&this.exampleDatabase&&(this.exampleDatabase.dataChange.value.splice(l,1),this.refreshTable(),this.showNotification("snackbar-danger","Delete Record Successfully...!!!","bottom","center"))}})}refreshTable(){this.paginator._changePageSize(this.paginator.pageSize)}isAllSelected(){return this.selection.selected.length===this.dataSource.renderedData.length}masterToggle(){this.isAllSelected()?this.selection.clear():this.dataSource.renderedData.forEach(e=>this.selection.select(e))}removeSelectedRows(){const e=this.selection.selected.length;this.selection.selected.forEach(o=>{const i=this.dataSource.renderedData.findIndex(l=>l===o);this.exampleDatabase?.dataChange.value.splice(i,1),this.refreshTable(),this.selection=new Z.Ov(!0,[])}),this.showNotification("snackbar-danger",e+" Record Delete Successfully...!!!","bottom","center")}loadData(){this.exampleDatabase=new _.v(this.httpClient),this.dataSource=new gt(this.exampleDatabase,this.paginator,this.sort),this.subs.sink=(0,J.R)(this.filter.nativeElement,"keyup").subscribe(()=>{this.dataSource&&(this.dataSource.filter=this.filter.nativeElement.value)})}showNotification(e,o,i,l){this.snackBar.open(o,"",{duration:2e3,verticalPosition:i,horizontalPosition:l,panelClass:e})}exportExcel(){const e=this.dataSource.filteredData.map(o=>({"Generator ID":o.id}));Y.c.exportToExcel(e,"excel")}onContextMenu(e,o){e.preventDefault(),this.contextMenuPosition.x=e.clientX+"px",this.contextMenuPosition.y=e.clientY+"px",void 0!==this.contextMenu&&null!==this.contextMenu.menu&&(this.contextMenu.menuData={item:o},this.contextMenu.menu.focusFirstItem("mouse"),this.contextMenu.openMenu())}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(U.eN),t.Y36(D.uw),t.Y36(_.v),t.Y36(T.ux),t.Y36(f.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-list"]],viewQuery:function(e,o){if(1&e&&(t.Gf(v.NW,7),t.Gf(g.YE,7),t.Gf(I,7),t.Gf(p.p6,5)),2&e){let i;t.iGM(i=t.CRH())&&(o.paginator=i.first),t.iGM(i=t.CRH())&&(o.sort=i.first),t.iGM(i=t.CRH())&&(o.filter=i.first),t.iGM(i=t.CRH())&&(o.contextMenu=i.first)}},features:[t._Bn([{provide:k.Ad,useValue:"en-GB"}]),t.qOj],decls:82,vars:17,consts:[[1,"content"],[1,"content-block"],["class","block-header",4,"ngFor","ngForOf"],[1,"row"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12"],[1,"card"],[1,"materialTableHeader"],[1,"left"],[1,"header-buttons-left","ms-0"],[1,"tbl-title"],[1,"tbl-search-box"],["for","search-input"],[1,"material-icons","search-icon"],["placeholder","search name, phone, address, place...","type","text","aria-label","Search box",1,"browser-default","search-field"],["filter",""],[1,"right"],[1,"tbl-export-btn"],[1,"tbl-header-btn"],["matTooltip","ADD",1,"m-l-10"],["mat-mini-fab","","color","primary",3,"click"],[1,"col-white"],["matTooltip","REFRESH",1,"m-l-10"],["matTooltip","DELETE",1,"m-l-10",3,"hidden"],["mat-mini-fab","","color","warn",3,"click"],["matTooltip","XLSX",1,"export-button","m-l-10"],["src","assets/images/icons/xlsx.png","alt","",3,"click"],[1,"body","overflow-auto"],[1,"table-responsive"],["mat-table","","matSort","",1,"table","mat-cell",3,"dataSource"],["table",""],["matColumnDef","select"],[3,"ngClass",4,"matHeaderCellDef"],[3,"ngClass",4,"matCellDef"],["matColumnDef","name"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","place"],[3,"contextmenu",4,"matCellDef"],["matColumnDef","address"],["matColumnDef","generators"],["matColumnDef","pending"],["matColumnDef","received"],["matColumnDef","percentage"],["matColumnDef","total"],["matColumnDef","actions"],["class","pr-0",4,"matHeaderCellDef"],["class","pr-0",4,"matCellDef"],[4,"matHeaderRowDef"],["matRipple","",3,"cursor","click",4,"matRowDef","matRowDefColumns"],["class","tbl-spinner",4,"ngIf"],[2,"visibility","hidden","position","fixed",3,"matMenuTriggerFor"],["contextMenu","matMenu"],["matMenuContent",""],["class","no-results",3,"display",4,"ngIf"],[3,"length","pageIndex","pageSize","pageSizeOptions"],["paginator",""],[1,"block-header"],[3,"title","items","active_item"],[3,"ngClass"],[3,"checked","indeterminate","ngClass","change"],[3,"checked","ngClass","click","change"],["mat-sort-header",""],[3,"contextmenu"],[1,"mobile-label"],["mode","determinate",1,"flex-fill",3,"value","color"],[1,"pr-0"],["mat-icon-button","","color","primary",1,"tbl-action-btn",3,"click"],["matRipple","",3,"click"],[1,"tbl-spinner"],["color","primary","mode","indeterminate",3,"diameter"],["mat-menu-item","",3,"click"],[1,"no-results"]],template:function(e,o){if(1&e&&(t.TgZ(0,"section",0)(1,"div",1),t.YNc(2,R,2,3,"div",2),t.TgZ(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"ul",8)(9,"li",9)(10,"h2"),t._uU(11,"Generators"),t.qZA()(),t.TgZ(12,"li",10)(13,"label",11)(14,"i",12),t._uU(15,"search"),t.qZA()(),t._UZ(16,"input",13,14),t.qZA()()(),t.TgZ(18,"div",15)(19,"ul",16)(20,"li",17)(21,"div",18)(22,"button",19),t.NdJ("click",function(){return o.addNew()}),t.TgZ(23,"mat-icon",20),t._uU(24,"add"),t.qZA()()()(),t.TgZ(25,"li",17)(26,"div",21)(27,"button",19),t.NdJ("click",function(){return o.refresh()}),t.TgZ(28,"mat-icon",20),t._uU(29,"refresh"),t.qZA()()()(),t.TgZ(30,"li",17)(31,"div",22)(32,"button",23),t.NdJ("click",function(){return o.removeSelectedRows()}),t.TgZ(33,"mat-icon",20),t._uU(34,"delete "),t.qZA()()()(),t.TgZ(35,"li")(36,"div",24)(37,"img",25),t.NdJ("click",function(){return o.exportExcel()}),t.qZA()()()()()(),t.TgZ(38,"div",26)(39,"div",27)(40,"table",28,29),t.ynx(42,30),t.YNc(43,B,2,4,"mat-header-cell",31),t.YNc(44,F,2,3,"mat-cell",32),t.BQk(),t.ynx(45,33),t.YNc(46,O,2,0,"mat-header-cell",34),t.YNc(47,H,2,1,"mat-cell",35),t.BQk(),t.ynx(48,36),t.YNc(49,$,2,0,"mat-header-cell",34),t.YNc(50,K,4,1,"mat-cell",37),t.BQk(),t.ynx(51,38),t.YNc(52,j,2,0,"mat-header-cell",34),t.YNc(53,z,4,1,"mat-cell",37),t.BQk(),t.ynx(54,39),t.YNc(55,X,2,0,"mat-header-cell",34),t.YNc(56,V,4,0,"mat-cell",37),t.BQk(),t.ynx(57,40),t.YNc(58,W,2,0,"mat-header-cell",34),t.YNc(59,tt,4,1,"mat-cell",37),t.BQk(),t.ynx(60,41),t.YNc(61,et,2,0,"mat-header-cell",34),t.YNc(62,nt,4,1,"mat-cell",37),t.BQk(),t.ynx(63,42),t.YNc(64,ot,2,0,"mat-header-cell",34),t.YNc(65,it,5,3,"mat-cell",37),t.BQk(),t.ynx(66,43),t.YNc(67,at,2,0,"mat-header-cell",34),t.YNc(68,st,4,1,"mat-cell",37),t.BQk(),t.ynx(69,44),t.YNc(70,lt,2,0,"mat-header-cell",45),t.YNc(71,rt,7,3,"mat-cell",46),t.BQk(),t.YNc(72,ct,1,0,"mat-header-row",47),t.YNc(73,mt,1,2,"mat-row",48),t.qZA()(),t.YNc(74,ut,2,1,"div",49),t._UZ(75,"div",50),t.TgZ(76,"mat-menu",null,51),t.YNc(78,dt,10,2,"ng-template",52),t.qZA(),t.YNc(79,pt,2,2,"div",53),t._UZ(80,"mat-paginator",54,55),t.qZA()()()()()()),2&e){const i=t.MAs(77);t.xp6(2),t.Q6J("ngForOf",o.breadscrums),t.xp6(29),t.Q6J("hidden",!o.selection.hasValue()),t.xp6(9),t.Q6J("dataSource",o.dataSource),t.xp6(32),t.Q6J("matHeaderRowDef",o.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns),t.xp6(1),t.Q6J("ngIf",null==o.exampleDatabase?null:o.exampleDatabase.isTblLoading),t.xp6(1),t.Udp("left",o.contextMenuPosition.x)("top",o.contextMenuPosition.y),t.Q6J("matMenuTriggerFor",i),t.xp6(4),t.Q6J("ngIf",!(null!=o.exampleDatabase&&o.exampleDatabase.isTblLoading)),t.xp6(1),t.Q6J("length",o.dataSource.filteredData.length)("pageIndex",0)("pageSize",10)("pageSizeOptions",t.DdM(16,ht))}},dependencies:[d.mk,d.sg,d.O5,u.BZ,u.fO,u.as,u.w1,u.Dz,u.nj,u.ge,u.ev,u.XQ,u.Gk,v.NW,x.RK,x.nh,b.Hw,w.oG,y.Ou,g.YE,g.nU,p.VK,p.OP,p.KA,p.p6,Q.gM,S.L,L.pW]}),n})();class gt extends Z.o2{get filter(){return this.filterChange.value}set filter(a){this.filterChange.next(a)}constructor(a,e,o){super(),this.exampleDatabase=a,this.paginator=e,this._sort=o,this.filterChange=new G.X(""),this.filteredData=[],this.renderedData=[],this.filterChange.subscribe(()=>this.paginator.pageIndex=0)}connect(){const a=[this.exampleDatabase.dataChange,this._sort.sortChange,this.filterChange,this.paginator.page];return this.exampleDatabase.getAllAdvanceTables(),(0,E.T)(...a).pipe((0,P.U)(()=>{this.filteredData=this.exampleDatabase.data.slice().filter(i=>-1!==(i.name+i.company+i.place+i.address+i.contactPerson1+i.phone1+i.contactPerson2+i.phone2).toLowerCase().indexOf(this.filter.toLowerCase()));const e=this.sortData(this.filteredData.slice());return this.renderedData=e.splice(this.paginator.pageIndex*this.paginator.pageSize,this.paginator.pageSize),this.renderedData}))}disconnect(){}sortData(a){return this._sort.active&&""!==this._sort.direction?a.sort((e,o)=>{let i="",l="";switch(this._sort.active){case"name":[i,l]=[e.name,o.name];break;case"pending":[i,l]=[e.getPending(),o.getPending()];break;case"received":[i,l]=[e.getReceived(),o.getReceived()];break;case"total":[i,l]=[e.total,o.total];break;case"percentage":[i,l]=[e.amountProgress.progress,o.amountProgress.progress]}return((isNaN(+i)?i:+i)<(isNaN(+l)?l:+l)?-1:1)*("asc"===this._sort.direction?1:-1)}):a}}var C=s(6240),h=s(9549),M=s(4144);function _t(n,a){if(1&n&&(t.TgZ(0,"div",25),t._UZ(1,"app-breadcrumb",26),t.qZA()),2&n){const e=a.$implicit;t.xp6(1),t.Q6J("title",e.title)("items",e.items)("active_item",e.active)}}function xt(n,a){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," Name is required "),t.qZA())}function Ct(n,a){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," Name is required "),t.qZA())}const Zt=[{path:"",component:ft},{path:"new",component:(()=>{class n extends N.n{constructor(e,o,i,l,r,c){super(),this.httpClient=e,this.customerService=o,this.snackBar=i,this.router=l,this.location=r,this.fb=c,this.isEditMode=!1,this.isErrorSub=!1,this.isNewGenSub=!1,this.phaseVal="",this.breadscrums=[{title:"Generators",items:["Generators"],active:"New"}],this.data=this.location.getState(),this.action=this.data.action,"edit"===this.action?(this.isEditMode=!0,this.breadscrums[0].active="Edit "+this.data.customer.id,this.dialogTitle=this.data.customer.id,this.customer=new C.O(this.data.customer)):"add"==this.action?(this.isEditMode=!0,this.dialogTitle="New Generator",this.customer=new C.O({})):(this.isEditMode=!1,this.dialogTitle=this.data.customer.id,this.breadscrums[0].active=this.data.customer.id,this.customer=new C.O(this.data.customer)),this.basicDetailsGroup=this.createBasicFormGroup()}ngOnInit(){this.newGenSubs=this.customerService.newGen.subscribe({next:e=>{this.isNewGenSub?(this.customer=e,this.showNotification("snackbar-success","Customer saved successfully","bottom","center"),this.isEditMode=!1):this.isNewGenSub=!0}}),this.errorSubs=this.customerService.errors.subscribe({next:e=>{this.isErrorSub?this.showNotification("snackbar-danger",e.error,"bottom","center"):this.isErrorSub=!0}})}showNotification(e,o,i,l){this.snackBar.open(o,"",{duration:2e3,verticalPosition:i,horizontalPosition:l,panelClass:e})}ngOnDestroy(){super.ngOnDestroy(),this.isErrorSub&&(this.errorSubs?.unsubscribe(),this.isErrorSub=!1),this.isNewGenSub&&(this.newGenSubs?.unsubscribe(),this.isNewGenSub=!1)}createBasicFormGroup(){return this.fb.group({id:[this.customer.id],name:[this.customer.name,[m.kI.required]],company:[this.customer.company],contactPerson1:[this.customer.contactPerson1,[m.kI.required]],phone1:[this.customer.phone1,[m.kI.required]],contactPerson2:[this.customer.contactPerson2],phone2:[this.customer.phone2],place:[this.customer.place,[m.kI.required]],address:[this.customer.address],ePending:[this.customer.ePending,[m.kI.required]],eReceived:[this.customer.eReceived,[m.kI.required]]})}confirmAdd(){const e=new C.O(this.basicDetailsGroup.getRawValue());"edit"===this.action?(e.id="0",this.customerService.updateAdvanceTable(this.dialogTitle,e)):(e.id="0",this.customerService.addAdvanceTable(e))}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(U.eN),t.Y36(_.v),t.Y36(T.ux),t.Y36(f.F0),t.Y36(d.Ye),t.Y36(m.QS))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-new"]],features:[t.qOj],decls:91,vars:5,consts:[[1,"content"],[1,"content-block"],["class","block-header",4,"ngFor","ngForOf"],[1,"row"],[1,"card"],[1,"header"],[1,"body"],[1,"m-4",3,"formGroup"],["appearance","fill",1,"example-full-width"],["matInput","","formControlName","name","required",""],["matSuffix",""],[4,"ngIf"],[1,"col-xl-6","col-lg-6","col-md-12","col-sm-12","mb-2"],["matInput","","formControlName","place"],["matInput","","formControlName","company"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12","mb-2"],["matInput","","formControlName","address"],["matInput","","formControlName","contactPerson1"],["matInput","","formControlName","phone1","type","number"],["matInput","","formControlName","contactPerson2"],["matInput","","formControlName","phone2","type","number"],["matInput","","formControlName","ePending","type","number"],["matInput","","formControlName","eReceived","type","number"],["mat-raised-button","","color","primary",1,"btn-space",3,"disabled","click"],["type","button","mat-raised-button","","color","warn"],[1,"block-header"],[3,"title","items","active_item"]],template:function(e,o){if(1&e&&(t.TgZ(0,"section",0)(1,"div",1),t.YNc(2,_t,2,3,"div",2),t.TgZ(3,"div",3)(4,"div",4)(5,"div",5)(6,"h2"),t._uU(7,"New Customer"),t.qZA()(),t.TgZ(8,"div",6)(9,"form",7)(10,"div",3)(11,"mat-form-field",8)(12,"mat-label"),t._uU(13,"Full Name"),t.qZA(),t._UZ(14,"input",9),t.TgZ(15,"mat-icon",10),t._uU(16,"face"),t.qZA(),t.YNc(17,xt,2,0,"mat-error",11),t.qZA()(),t.TgZ(18,"div",3)(19,"div",12)(20,"mat-form-field",8)(21,"mat-label"),t._uU(22,"Place"),t.qZA(),t._UZ(23,"input",13),t.TgZ(24,"mat-icon",10),t._uU(25,"face"),t.qZA(),t.YNc(26,Ct,2,0,"mat-error",11),t.qZA()(),t.TgZ(27,"div",12)(28,"mat-form-field",8)(29,"mat-label"),t._uU(30,"Company"),t.qZA(),t._UZ(31,"input",14),t.TgZ(32,"mat-icon",10),t._uU(33,"face"),t.qZA()()()(),t.TgZ(34,"div",3)(35,"div",15)(36,"mat-form-field",8)(37,"mat-label"),t._uU(38,"Address"),t.qZA(),t._UZ(39,"textarea",16),t.qZA()()(),t.TgZ(40,"div",3)(41,"div",12)(42,"mat-form-field",8)(43,"mat-label"),t._uU(44,"Contact 1"),t.qZA(),t._UZ(45,"input",17),t.TgZ(46,"mat-icon",10),t._uU(47,"face"),t.qZA()()(),t.TgZ(48,"div",12)(49,"mat-form-field",8)(50,"mat-label"),t._uU(51,"Phone 1"),t.qZA(),t._UZ(52,"input",18),t.TgZ(53,"mat-icon",10),t._uU(54,"phone"),t.qZA()()()(),t.TgZ(55,"div",3)(56,"div",12)(57,"mat-form-field",8)(58,"mat-label"),t._uU(59,"Contact 2"),t.qZA(),t._UZ(60,"input",19),t.TgZ(61,"mat-icon",10),t._uU(62,"face"),t.qZA()()(),t.TgZ(63,"div",12)(64,"mat-form-field",8)(65,"mat-label"),t._uU(66,"Phone 2"),t.qZA(),t._UZ(67,"input",20),t.TgZ(68,"mat-icon",10),t._uU(69,"phone"),t.qZA()()()(),t.TgZ(70,"div",3)(71,"div",12)(72,"mat-form-field",8)(73,"mat-label"),t._uU(74,"Pending amount (Existing only)"),t.qZA(),t._UZ(75,"input",21),t.TgZ(76,"mat-icon",10),t._uU(77,"face"),t.qZA()()(),t.TgZ(78,"div",12)(79,"mat-form-field",8)(80,"mat-label"),t._uU(81,"Received amount (Existing only)"),t.qZA(),t._UZ(82,"input",22),t.TgZ(83,"mat-icon",10),t._uU(84,"phone"),t.qZA()()()(),t.TgZ(85,"div",3)(86,"div",15)(87,"button",23),t.NdJ("click",function(){return o.confirmAdd()}),t._uU(88,"Add customer"),t.qZA(),t.TgZ(89,"button",24),t._uU(90,"Cancel"),t.qZA()()()()()()()()()),2&e){let i,l;t.xp6(2),t.Q6J("ngForOf",o.breadscrums),t.xp6(7),t.Q6J("formGroup",o.basicDetailsGroup),t.xp6(8),t.Q6J("ngIf",null==o.basicDetailsGroup||null==(i=o.basicDetailsGroup.get("first"))?null:i.hasError("required")),t.xp6(9),t.Q6J("ngIf",null==o.basicDetailsGroup||null==(l=o.basicDetailsGroup.get("first"))?null:l.hasError("required")),t.xp6(61),t.Q6J("disabled",!o.basicDetailsGroup.valid)}},dependencies:[d.sg,d.O5,m._Y,m.Fj,m.wV,m.JJ,m.JL,m.Q7,m.sg,m.u,h.KE,h.hX,h.TO,h.R9,M.Nt,x.lW,b.Hw,S.L]}),n})()}];let vt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[f.Bz.forChild(Zt),f.Bz]}),n})();var Tt=s(1948),bt=s(4385),At=s(3546),Nt=s(9602),Ut=s(3683),Dt=s(1783),wt=s(5626),yt=s(6257);let St=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[_.v],imports:[d.ez,m.u5,m.UX,vt,u.p0,v.TU,h.lN,M.c,T.ZX,x.ot,b.Ps,Tt.Fk,bt.LD,w.p9,At.QW,Nt.FA,y.Cq,D.Is,g.JX,Ut.g0,p.Tx,Dt.m,wt.K,yt.T5,L.Cv]}),n})()}}]);
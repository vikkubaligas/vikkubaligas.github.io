"use strict";(self.webpackChunkaxen=self.webpackChunkaxen||[]).push([[361],{9361:(Ft,B,s)=>{s.r(B),s.d(B,{GensModule:()=>Ot});var d=s(6895),N=s(9299),p=s(3238),R=s(9186),x=s(2759),M=s(5017),k=s(8739),y=s(6308),v=s(1561),ue=s(4968),de=s(1135),L=s(6451),pe=s(6035),he=s(4004),f=s(5938),e=s(4650),Z=s(4859);let _e=(()=>{class o{constructor(t,n,i){if(this.dialogRef=t,this.data=n,this.tableService=i,this.dispData={text1:"",value1:"",text2:"",value2:"",text3:"",value3:""},"gen"==n.type){this.dispData.text1="Generator ID: ",this.dispData.text2="Power: ",this.dispData.text3="Phase: ";const r=n.generator;this.dispData.value1=r.id,this.dispData.value2=""+r.kw,this.dispData.value3=r.is3Phase?"Three Phase":"Single Phase"}}onNoClick(){this.dialogRef.close()}confirmDelete(){this.tableService.deleteAdvanceTable(this.data.delId)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(f.so),e.Y36(f.WI),e.Y36(x.T))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-delete"]],decls:25,vars:7,consts:[[1,"container"],["mat-dialog-title",""],["mat-dialog-content",""],[1,"clearfix"],[1,"fw-bold"],["mat-dialog-actions","",1,"mb-1"],["mat-flat-button","","color","warn",3,"mat-dialog-close","click"],["mat-flat-button","","tabindex","-1",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"h3",1),e._uU(2,"Are you sure?"),e.qZA(),e.TgZ(3,"div",2)(4,"ul",3)(5,"li")(6,"p")(7,"span",4),e._uU(8),e.qZA(),e._uU(9),e.qZA()(),e.TgZ(10,"li")(11,"p")(12,"span",4),e._uU(13),e.qZA(),e._uU(14),e.qZA()(),e.TgZ(15,"li")(16,"p")(17,"span",4),e._uU(18),e.qZA(),e._uU(19),e.qZA()()()(),e.TgZ(20,"div",5)(21,"button",6),e.NdJ("click",function(){return n.confirmDelete()}),e._uU(22," Delete "),e.qZA(),e.TgZ(23,"button",7),e.NdJ("click",function(){return n.onNoClick()}),e._uU(24,"Cancel"),e.qZA()()()),2&t&&(e.xp6(8),e.Oqu(n.dispData.text1),e.xp6(1),e.Oqu(n.dispData.value1),e.xp6(4),e.Oqu(n.dispData.text2),e.xp6(1),e.Oqu(n.dispData.value2),e.xp6(4),e.Oqu(n.dispData.text3),e.xp6(1),e.hij("",n.dispData.value3," "),e.xp6(2),e.Q6J("mat-dialog-close",1))},dependencies:[Z.lW,f.ZT,f.uh,f.xY,f.H8]}),o})();var O=s(529),J=s(7009),h=s(7155),G=s(7392),F=s(6709),H=s(1572),ge=s(266),P=s(1299),V=s(3162);const fe=["filter"];function be(o,a){if(1&o&&(e.TgZ(0,"div",56),e._UZ(1,"app-breadcrumb",57),e.qZA()),2&o){const t=a.$implicit;e.xp6(1),e.Q6J("title",t.title)("items",t.items)("active_item",t.active)}}function ve(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"mat-header-cell",58)(1,"mat-checkbox",59),e.NdJ("change",function(i){e.CHM(t);const r=e.oxw();return e.KtG(i?r.masterToggle():null)}),e.qZA()()}if(2&o){const t=e.oxw();e.Q6J("ngClass","tbl-col-width-per-6"),e.xp6(1),e.Q6J("checked",t.selection.hasValue()&&t.isAllSelected())("indeterminate",t.selection.hasValue()&&!t.isAllSelected())("ngClass","tbl-checkbox")}}function Ze(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"mat-cell",58)(1,"mat-checkbox",60),e.NdJ("click",function(i){return i.stopPropagation()})("change",function(i){const l=e.CHM(t).$implicit,c=e.oxw();return e.KtG(i?c.selection.toggle(l):null)}),e.qZA()()}if(2&o){const t=a.$implicit,n=e.oxw();e.Q6J("ngClass","tbl-col-width-per-6"),e.xp6(1),e.Q6J("checked",n.selection.isSelected(t))("ngClass","tbl-checkbox")}}function Te(o,a){1&o&&(e.TgZ(0,"mat-header-cell",61),e._uU(1,"Generator ID"),e.qZA())}function xe(o,a){if(1&o&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.xp6(1),e.Oqu(t.id)}}function Ce(o,a){1&o&&(e.TgZ(0,"mat-header-cell",61),e._uU(1,"Serial Number"),e.qZA())}function Ne(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"mat-cell",62),e.NdJ("contextmenu",function(i){const l=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.onContextMenu(i,l))}),e.TgZ(1,"span",63),e._uU(2,"Serial Number:"),e.qZA(),e._uU(3),e.qZA()}if(2&o){const t=a.$implicit;e.xp6(3),e.Oqu(t.serialNumber)}}function ye(o,a){1&o&&(e.TgZ(0,"mat-header-cell",61),e._uU(1,"Hours Run"),e.qZA())}function Ae(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"mat-cell",62),e.NdJ("contextmenu",function(i){const l=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.onContextMenu(i,l))}),e.TgZ(1,"span",63),e._uU(2,"Hours Run:"),e.qZA(),e._uU(3),e.qZA()}if(2&o){const t=a.$implicit;e.xp6(3),e.Oqu(t.hoursRun)}}function Se(o,a){1&o&&(e.TgZ(0,"mat-header-cell",61),e._uU(1,"Last service"),e.qZA())}function we(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"mat-cell",62),e.NdJ("contextmenu",function(i){const l=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.onContextMenu(i,l))}),e.TgZ(1,"span",63),e._uU(2,"Last service:"),e.qZA(),e._uU(3),e.qZA()}if(2&o){const t=a.$implicit;e.xp6(3),e.AsE(" ",t.prevOilHour," hrs on ",t.lastServiceDate," ")}}function qe(o,a){1&o&&(e.TgZ(0,"mat-header-cell",61),e._uU(1,"Remaining Hours"),e.qZA())}function De(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"mat-cell",62),e.NdJ("contextmenu",function(i){const l=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.onContextMenu(i,l))}),e.TgZ(1,"span",63),e._uU(2,"Remaining Hours:"),e.qZA(),e._uU(3),e.qZA()}if(2&o){const t=a.$implicit;e.xp6(3),e.AsE(" ",t.getRemainingHours()," / ",t.oilChangeDuration," hrs ")}}function Ue(o,a){1&o&&(e.TgZ(0,"mat-header-cell",61),e._uU(1,"Health"),e.qZA())}function Me(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"mat-cell",62),e.NdJ("contextmenu",function(i){const l=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.onContextMenu(i,l))}),e.TgZ(1,"span",63),e._uU(2,"Health:"),e.qZA(),e.TgZ(3,"mat-progress-bar",64),e._uU(4),e.qZA()()}if(2&o){const t=a.$implicit;e.xp6(3),e.Q6J("value",t.serviceProgress.progress)("color",t.serviceProgress.color2),e.xp6(1),e.hij(" ",t.getRemainingHours()," ")}}function ke(o,a){1&o&&(e.TgZ(0,"mat-header-cell",61),e._uU(1," Status "),e.qZA())}function Je(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"mat-cell",65),e.NdJ("contextmenu",function(i){const l=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.onContextMenu(i,l))}),e.TgZ(1,"span",63),e._uU(2,"Status"),e.qZA(),e.TgZ(3,"span",66),e._uU(4),e.qZA()()}if(2&o){const t=a.$implicit;e.xp6(4),e.Oqu(t.getStatus())}}function Ge(o,a){1&o&&(e.TgZ(0,"mat-header-cell",67),e._uU(1,"Actions"),e.qZA())}function Ee(o,a){1&o&&(e.TgZ(0,"mat-cell",67)(1,"button",68),e.NdJ("click",function(n){return n.stopPropagation()}),e._UZ(2,"i",58),e.qZA(),e.TgZ(3,"button",68),e.NdJ("click",function(n){return n.stopPropagation()}),e._UZ(4,"i",58),e.qZA(),e.TgZ(5,"button",68),e.NdJ("click",function(n){return n.stopPropagation()}),e._UZ(6,"i",58),e.qZA()()),2&o&&(e.xp6(2),e.Q6J("ngClass","fas fa-history card-icon col-orange font-18"),e.xp6(2),e.Q6J("ngClass","fas fa-truck-loading card-icon col-orange font-18"),e.xp6(2),e.Q6J("ngClass","fas fa-wrench card-icon col-orange font-18"))}function Ie(o,a){1&o&&e._UZ(0,"mat-header-row")}function Qe(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"mat-row",69),e.NdJ("click",function(){const r=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.viewCall(r))}),e.qZA()}2&o&&e.Udp("cursor","pointer")}function Ye(o,a){1&o&&(e.TgZ(0,"div",70),e._UZ(1,"mat-progress-spinner",71),e.qZA()),2&o&&(e.xp6(1),e.Q6J("diameter",40))}function Be(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"button",72),e.NdJ("click",function(){const r=e.CHM(t).item,l=e.oxw();return e.KtG(l.editCall(r))}),e.TgZ(1,"mat-icon"),e._uU(2,"create"),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.qZA()(),e.TgZ(5,"button",72),e.NdJ("click",function(){const r=e.CHM(t).item,l=e.oxw();return e.KtG(l.deleteItem(r))}),e.TgZ(6,"mat-icon"),e._uU(7,"delete"),e.qZA(),e.TgZ(8,"span"),e._uU(9),e.qZA()()}if(2&o){const t=a.item;e.xp6(4),e.hij("Edit ",t.id,""),e.xp6(5),e.hij("Delete ",t.id,"")}}function Re(o,a){if(1&o&&(e.TgZ(0,"div",73),e._uU(1," No results "),e.qZA()),2&o){const t=e.oxw();e.Udp("display",0===t.dataSource.renderedData.length?"":"none")}}const Le=function(){return[5,10,25,100]};let Oe=(()=>{class o extends R.n{constructor(t,n,i,r,l){super(),this.httpClient=t,this.dialog=n,this.advanceTableService=i,this.snackBar=r,this.router=l,this.displayedColumns=["select","generatorId","serialNumber","hoursRun","prevOilHour","remaining","health","status","actions"],this.selection=new M.Ov(!0,[]),this.breadscrums=[{title:"Generators",items:["Generators"],active:"All"}],this.contextMenuPosition={x:"0px",y:"0px"}}ngOnInit(){this.loadData()}refresh(){this.loadData()}addNew(){this.router.navigateByUrl("/gens/new",{state:{generator:this.generator,action:"add"}})}viewCall(t){this.id=t.id,this.router.navigateByUrl("/gens/new",{state:{id:t.id,generator:t,action:"view"}})}editCall(t){this.id=t.id,this.router.navigateByUrl("/gens/new",{state:{id:t.id,generator:t,action:"edit"}})}deleteItem(t){this.id=t.id;const n=this.dialog.open(_e,{data:{action:"del",generator:t,type:"gen",delId:t.id}});this.subs.sink=n.afterClosed().subscribe(i=>{if(1===i){const r=this.exampleDatabase?.dataChange.value.findIndex(l=>l.id===this.id);null!=r&&this.exampleDatabase&&(this.exampleDatabase.dataChange.value.splice(r,1),this.refreshTable(),this.showNotification("snackbar-danger","Delete Record Successfully...!!!","bottom","center"))}})}refreshTable(){this.paginator._changePageSize(this.paginator.pageSize)}isAllSelected(){return this.selection.selected.length===this.dataSource.renderedData.length}masterToggle(){this.isAllSelected()?this.selection.clear():this.dataSource.renderedData.forEach(t=>this.selection.select(t))}removeSelectedRows(){const t=this.selection.selected.length;this.selection.selected.forEach(n=>{const i=this.dataSource.renderedData.findIndex(r=>r===n);this.exampleDatabase?.dataChange.value.splice(i,1),this.refreshTable(),this.selection=new M.Ov(!0,[])}),this.showNotification("snackbar-danger",t+" Record Delete Successfully...!!!","bottom","center")}loadData(){this.exampleDatabase=new x.T(this.httpClient),this.dataSource=new Fe(this.exampleDatabase,this.paginator,this.sort),this.subs.sink=(0,ue.R)(this.filter.nativeElement,"keyup").subscribe(()=>{this.dataSource&&(this.dataSource.filter=this.filter.nativeElement.value)})}showNotification(t,n,i,r){this.snackBar.open(n,"",{duration:2e3,verticalPosition:i,horizontalPosition:r,panelClass:t})}exportExcel(){const t=this.dataSource.filteredData.map(n=>({"Generator ID":n.id,"Serial Number":n.serialNumber,"Hours run":n.hoursRun,"Last service":n.prevOilHour,Status:n.getStatus()}));pe.c.exportToExcel(t,"excel")}onContextMenu(t,n){t.preventDefault(),this.contextMenuPosition.x=t.clientX+"px",this.contextMenuPosition.y=t.clientY+"px",void 0!==this.contextMenu&&null!==this.contextMenu.menu&&(this.contextMenu.menuData={item:n},this.contextMenu.menu.focusFirstItem("mouse"),this.contextMenu.openMenu())}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(O.eN),e.Y36(f.uw),e.Y36(x.T),e.Y36(J.ux),e.Y36(N.F0))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-list"]],viewQuery:function(t,n){if(1&t&&(e.Gf(k.NW,7),e.Gf(y.YE,7),e.Gf(fe,7),e.Gf(v.p6,5)),2&t){let i;e.iGM(i=e.CRH())&&(n.paginator=i.first),e.iGM(i=e.CRH())&&(n.sort=i.first),e.iGM(i=e.CRH())&&(n.filter=i.first),e.iGM(i=e.CRH())&&(n.contextMenu=i.first)}},features:[e._Bn([{provide:p.Ad,useValue:"en-GB"}]),e.qOj],decls:79,vars:17,consts:[[1,"content"],[1,"content-block"],["class","block-header",4,"ngFor","ngForOf"],[1,"row"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12"],[1,"card"],[1,"materialTableHeader"],[1,"left"],[1,"header-buttons-left","ms-0"],[1,"tbl-title"],[1,"tbl-search-box"],["for","search-input"],[1,"material-icons","search-icon"],["placeholder","search ID, serial number, company, model...","type","text","aria-label","Search box",1,"browser-default","search-field"],["filter",""],[1,"right"],[1,"tbl-export-btn"],[1,"tbl-header-btn"],["matTooltip","ADD",1,"m-l-10"],["mat-mini-fab","","color","primary",3,"click"],[1,"col-white"],["matTooltip","REFRESH",1,"m-l-10"],["matTooltip","DELETE",1,"m-l-10",3,"hidden"],["mat-mini-fab","","color","warn",3,"click"],["matTooltip","XLSX",1,"export-button","m-l-10"],["src","assets/images/icons/xlsx.png","alt","",3,"click"],[1,"body","overflow-auto"],[1,"table-responsive"],["mat-table","","matSort","",1,"table","mat-cell",3,"dataSource"],["table",""],["matColumnDef","select"],[3,"ngClass",4,"matHeaderCellDef"],[3,"ngClass",4,"matCellDef"],["matColumnDef","generatorId"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","serialNumber"],[3,"contextmenu",4,"matCellDef"],["matColumnDef","hoursRun"],["matColumnDef","prevOilHour"],["matColumnDef","remaining"],["matColumnDef","health"],["matColumnDef","status"],["mat-cell","",3,"contextmenu",4,"matCellDef"],["matColumnDef","actions"],["class","pr-0",4,"matHeaderCellDef"],["class","pr-0",4,"matCellDef"],[4,"matHeaderRowDef"],["matRipple","",3,"cursor","click",4,"matRowDef","matRowDefColumns"],["class","tbl-spinner",4,"ngIf"],[2,"visibility","hidden","position","fixed",3,"matMenuTriggerFor"],["contextMenu","matMenu"],["matMenuContent",""],["class","no-results",3,"display",4,"ngIf"],[3,"length","pageIndex","pageSize","pageSizeOptions"],["paginator",""],[1,"block-header"],[3,"title","items","active_item"],[3,"ngClass"],[3,"checked","indeterminate","ngClass","change"],[3,"checked","ngClass","click","change"],["mat-sort-header",""],[3,"contextmenu"],[1,"mobile-label"],["mode","determinate",1,"flex-fill",3,"value","color"],["mat-cell","",3,"contextmenu"],[1,"badge","badge-solid-green"],[1,"pr-0"],["mat-icon-button","","color","primary",1,"tbl-action-btn",3,"click"],["matRipple","",3,"click"],[1,"tbl-spinner"],["color","primary","mode","indeterminate",3,"diameter"],["mat-menu-item","",3,"click"],[1,"no-results"]],template:function(t,n){if(1&t&&(e.TgZ(0,"section",0)(1,"div",1),e.YNc(2,be,2,3,"div",2),e.TgZ(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"ul",8)(9,"li",9)(10,"h2"),e._uU(11,"Generators"),e.qZA()(),e.TgZ(12,"li",10)(13,"label",11)(14,"i",12),e._uU(15,"search"),e.qZA()(),e._UZ(16,"input",13,14),e.qZA()()(),e.TgZ(18,"div",15)(19,"ul",16)(20,"li",17)(21,"div",18)(22,"button",19),e.NdJ("click",function(){return n.addNew()}),e.TgZ(23,"mat-icon",20),e._uU(24,"add"),e.qZA()()()(),e.TgZ(25,"li",17)(26,"div",21)(27,"button",19),e.NdJ("click",function(){return n.refresh()}),e.TgZ(28,"mat-icon",20),e._uU(29,"refresh"),e.qZA()()()(),e.TgZ(30,"li",17)(31,"div",22)(32,"button",23),e.NdJ("click",function(){return n.removeSelectedRows()}),e.TgZ(33,"mat-icon",20),e._uU(34,"delete "),e.qZA()()()(),e.TgZ(35,"li")(36,"div",24)(37,"img",25),e.NdJ("click",function(){return n.exportExcel()}),e.qZA()()()()()(),e.TgZ(38,"div",26)(39,"div",27)(40,"table",28,29),e.ynx(42,30),e.YNc(43,ve,2,4,"mat-header-cell",31),e.YNc(44,Ze,2,3,"mat-cell",32),e.BQk(),e.ynx(45,33),e.YNc(46,Te,2,0,"mat-header-cell",34),e.YNc(47,xe,2,1,"mat-cell",35),e.BQk(),e.ynx(48,36),e.YNc(49,Ce,2,0,"mat-header-cell",34),e.YNc(50,Ne,4,1,"mat-cell",37),e.BQk(),e.ynx(51,38),e.YNc(52,ye,2,0,"mat-header-cell",34),e.YNc(53,Ae,4,1,"mat-cell",37),e.BQk(),e.ynx(54,39),e.YNc(55,Se,2,0,"mat-header-cell",34),e.YNc(56,we,4,2,"mat-cell",37),e.BQk(),e.ynx(57,40),e.YNc(58,qe,2,0,"mat-header-cell",34),e.YNc(59,De,4,2,"mat-cell",37),e.BQk(),e.ynx(60,41),e.YNc(61,Ue,2,0,"mat-header-cell",34),e.YNc(62,Me,5,3,"mat-cell",37),e.BQk(),e.ynx(63,42),e.YNc(64,ke,2,0,"mat-header-cell",34),e.YNc(65,Je,5,1,"mat-cell",43),e.BQk(),e.ynx(66,44),e.YNc(67,Ge,2,0,"mat-header-cell",45),e.YNc(68,Ee,7,3,"mat-cell",46),e.BQk(),e.YNc(69,Ie,1,0,"mat-header-row",47),e.YNc(70,Qe,1,2,"mat-row",48),e.qZA()(),e.YNc(71,Ye,2,1,"div",49),e._UZ(72,"div",50),e.TgZ(73,"mat-menu",null,51),e.YNc(75,Be,10,2,"ng-template",52),e.qZA(),e.YNc(76,Re,2,2,"div",53),e._UZ(77,"mat-paginator",54,55),e.qZA()()()()()()),2&t){const i=e.MAs(74);e.xp6(2),e.Q6J("ngForOf",n.breadscrums),e.xp6(29),e.Q6J("hidden",!n.selection.hasValue()),e.xp6(9),e.Q6J("dataSource",n.dataSource),e.xp6(29),e.Q6J("matHeaderRowDef",n.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",n.displayedColumns),e.xp6(1),e.Q6J("ngIf",null==n.exampleDatabase?null:n.exampleDatabase.isTblLoading),e.xp6(1),e.Udp("left",n.contextMenuPosition.x)("top",n.contextMenuPosition.y),e.Q6J("matMenuTriggerFor",i),e.xp6(4),e.Q6J("ngIf",!(null!=n.exampleDatabase&&n.exampleDatabase.isTblLoading)),e.xp6(1),e.Q6J("length",n.dataSource.filteredData.length)("pageIndex",0)("pageSize",10)("pageSizeOptions",e.DdM(16,Le))}},dependencies:[d.mk,d.sg,d.O5,h.BZ,h.fO,h.as,h.w1,h.Dz,h.nj,h.ge,h.ev,h.XQ,h.Gk,k.NW,Z.RK,Z.nh,G.Hw,F.oG,H.Ou,y.YE,y.nU,v.VK,v.OP,v.KA,v.p6,ge.gM,P.L,V.pW,p.wG]}),o})();class Fe extends M.o2{get filter(){return this.filterChange.value}set filter(a){this.filterChange.next(a)}constructor(a,t,n){super(),this.exampleDatabase=a,this.paginator=t,this._sort=n,this.filterChange=new de.X(""),this.filteredData=[],this.renderedData=[],this.filterChange.subscribe(()=>this.paginator.pageIndex=0)}connect(){const a=[this.exampleDatabase.dataChange,this._sort.sortChange,this.filterChange,this.paginator.page];return this.exampleDatabase.getAllAdvanceTables(),(0,L.T)(...a).pipe((0,he.U)(()=>{this.filteredData=this.exampleDatabase.data.slice().filter(i=>-1!==(i.companyName+i.model+i.id+i.serialNumber+i.beltNumber+i.oilFilterNumber+i.fuelFilterNumber+i.airFilterNumber+i.batterySerialNumber).toLowerCase().indexOf(this.filter.toLowerCase()));const t=this.sortData(this.filteredData.slice());return this.renderedData=t.splice(this.paginator.pageIndex*this.paginator.pageSize,this.paginator.pageSize),this.renderedData}))}disconnect(){}sortData(a){return this._sort.active&&""!==this._sort.direction?a.sort((t,n)=>{let i="",r="";switch(this._sort.active){case"id":case"generatorId":[i,r]=[t.id,n.id];break;case"serialNumber":[i,r]=[t.serialNumber,n.serialNumber];break;case"hoursRun":[i,r]=[t.hoursRun,n.hoursRun];break;case"prevOilHour":[i,r]=[t.prevOilHour,n.prevOilHour];break;case"remaining":[i,r]=[t.getRemainingHours(),n.getRemainingHours()]}return((isNaN(+i)?i:+i)<(isNaN(+r)?r:+r)?-1:1)*("asc"===this._sort.direction?1:-1)}):a}}var m=s(4006),A=s(7930),S=s(7855),K=s(4080),E=s(2687),b=s(2289),$=s(8184),u=s(7340),X=s(9521),He=s(7579),w=s(9300),I=s(5698);function Pe(o,a){}const Ve={bottomSheetState:(0,u.X$)("state",[(0,u.SB)("void, hidden",(0,u.oB)({transform:"translateY(100%)"})),(0,u.SB)("visible",(0,u.oB)({transform:"translateY(0%)"})),(0,u.eR)("visible => void, visible => hidden",(0,u.ru)([(0,u.jt)(`${p.mZ.COMPLEX} ${p.yN.ACCELERATION_CURVE}`),(0,u.IO)("@*",(0,u.pV)(),{optional:!0})])),(0,u.eR)("void => visible",(0,u.ru)([(0,u.jt)(`${p.mZ.EXITING} ${p.yN.DECELERATION_CURVE}`),(0,u.IO)("@*",(0,u.pV)(),{optional:!0})]))])};let Ke=(()=>{class o extends S.LL{constructor(t,n,i,r,l,c,_,g,D,U){super(t,n,i,r,l,c,_,U),this._changeDetectorRef=D,this._animationState="void",this._animationStateChanged=new e.vpe,this._breakpointSubscription=g.observe([b.u3.Medium,b.u3.Large,b.u3.XLarge]).subscribe(()=>{this._toggleClass("mat-bottom-sheet-container-medium",g.isMatched(b.u3.Medium)),this._toggleClass("mat-bottom-sheet-container-large",g.isMatched(b.u3.Large)),this._toggleClass("mat-bottom-sheet-container-xlarge",g.isMatched(b.u3.XLarge))})}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges())}exit(){this._destroyed||(this._animationState="hidden",this._changeDetectorRef.markForCheck())}ngOnDestroy(){super.ngOnDestroy(),this._breakpointSubscription.unsubscribe(),this._destroyed=!0}_onAnimationDone(t){"visible"===t.toState&&this._trapFocus(),this._animationStateChanged.emit(t)}_onAnimationStart(t){this._animationStateChanged.emit(t)}_captureInitialFocus(){}_toggleClass(t,n){this._elementRef.nativeElement.classList.toggle(t,n)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(e.SBq),e.Y36(E.qV),e.Y36(d.K0,8),e.Y36(S.ib),e.Y36(E.ic),e.Y36(e.R0b),e.Y36($.Iu),e.Y36(b.Yg),e.Y36(e.sBO),e.Y36(E.tE))},o.\u0275cmp=e.Xpm({type:o,selectors:[["mat-bottom-sheet-container"]],hostAttrs:["tabindex","-1",1,"mat-bottom-sheet-container"],hostVars:4,hostBindings:function(t,n){1&t&&e.WFA("@state.start",function(r){return n._onAnimationStart(r)})("@state.done",function(r){return n._onAnimationDone(r)}),2&t&&(e.uIk("role",n._config.role)("aria-modal",n._config.ariaModal)("aria-label",n._config.ariaLabel),e.d8E("@state",n._animationState))},features:[e.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,n){1&t&&e.YNc(0,Pe,0,0,"ng-template",0)},dependencies:[K.Pl],styles:[".mat-bottom-sheet-container{padding:8px 16px;min-width:100vw;box-sizing:border-box;display:block;outline:0;max-height:80vh;overflow:auto}.cdk-high-contrast-active .mat-bottom-sheet-container{outline:1px solid}.mat-bottom-sheet-container-xlarge,.mat-bottom-sheet-container-large,.mat-bottom-sheet-container-medium{border-top-left-radius:4px;border-top-right-radius:4px}.mat-bottom-sheet-container-medium{min-width:384px;max-width:calc(100vw - 128px)}.mat-bottom-sheet-container-large{min-width:512px;max-width:calc(100vw - 256px)}.mat-bottom-sheet-container-xlarge{min-width:576px;max-width:calc(100vw - 384px)}"],encapsulation:2,data:{animation:[Ve.bottomSheetState]}}),o})(),z=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[S.Su,p.BQ,K.eL,p.BQ]}),o})();const $e=new e.OlP("MatBottomSheetData");class Xe{constructor(){this.data=null,this.hasBackdrop=!0,this.disableClose=!1,this.ariaLabel=null,this.ariaModal=!0,this.closeOnNavigation=!0,this.autoFocus="dialog",this.restoreFocus=!0}}class Q{get instance(){return this._ref.componentInstance}constructor(a,t,n){this._ref=a,this._afterOpened=new He.x,this.containerInstance=n,this.disableClose=t.disableClose,n._animationStateChanged.pipe((0,w.h)(i=>"done"===i.phaseName&&"visible"===i.toState),(0,I.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),n._animationStateChanged.pipe((0,w.h)(i=>"done"===i.phaseName&&"hidden"===i.toState),(0,I.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._ref.close(this._result)}),a.overlayRef.detachments().subscribe(()=>{this._ref.close(this._result)}),(0,L.T)(this.backdropClick(),this.keydownEvents().pipe((0,w.h)(i=>i.keyCode===X.hY))).subscribe(i=>{!this.disableClose&&("keydown"!==i.type||!(0,X.Vb)(i))&&(i.preventDefault(),this.dismiss())})}dismiss(a){this.containerInstance&&(this.containerInstance._animationStateChanged.pipe((0,w.h)(t=>"start"===t.phaseName),(0,I.q)(1)).subscribe(t=>{this._closeFallbackTimeout=setTimeout(()=>{this._ref.close(this._result)},t.totalTime+100),this._ref.overlayRef.detachBackdrop()}),this._result=a,this.containerInstance.exit(),this.containerInstance=null)}afterDismissed(){return this._ref.closed}afterOpened(){return this._afterOpened}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}}const ze=new e.OlP("mat-bottom-sheet-default-options");let je=(()=>{class o{get _openedBottomSheetRef(){const t=this._parentBottomSheet;return t?t._openedBottomSheetRef:this._bottomSheetRefAtThisLevel}set _openedBottomSheetRef(t){this._parentBottomSheet?this._parentBottomSheet._openedBottomSheetRef=t:this._bottomSheetRefAtThisLevel=t}constructor(t,n,i,r){this._overlay=t,this._parentBottomSheet=i,this._defaultOptions=r,this._bottomSheetRefAtThisLevel=null,this._dialog=n.get(S.Vq)}open(t,n){const i={...this._defaultOptions||new Xe,...n};let r;return this._dialog.open(t,{...i,disableClose:!0,closeOnOverlayDetachments:!1,maxWidth:"100%",container:Ke,scrollStrategy:i.scrollStrategy||this._overlay.scrollStrategies.block(),positionStrategy:this._overlay.position().global().centerHorizontally().bottom("0"),templateContext:()=>({bottomSheetRef:r}),providers:(l,c,_)=>(r=new Q(l,i,_),[{provide:Q,useValue:r},{provide:$e,useValue:i.data}])}),r.afterDismissed().subscribe(()=>{this._openedBottomSheetRef===r&&(this._openedBottomSheetRef=null)}),this._openedBottomSheetRef?(this._openedBottomSheetRef.afterDismissed().subscribe(()=>r.containerInstance?.enter()),this._openedBottomSheetRef.dismiss()):r.containerInstance.enter(),this._openedBottomSheetRef=r,r}dismiss(t){this._openedBottomSheetRef&&this._openedBottomSheetRef.dismiss(t)}ngOnDestroy(){this._bottomSheetRefAtThisLevel&&this._bottomSheetRefAtThisLevel.dismiss()}}return o.\u0275fac=function(t){return new(t||o)(e.LFG($.aV),e.LFG(e.zs3),e.LFG(o,12),e.LFG(ze,8))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:z}),o})();var C=s(9549),j=s(4144),Y=s(1948),q=s(9602),T=s(6257),W=s(4633);function We(o,a){if(1&o&&(e.TgZ(0,"div",42),e._UZ(1,"app-breadcrumb",43),e.qZA()),2&o){const t=a.$implicit;e.xp6(1),e.Q6J("title",t.title)("items",t.items)("active_item",t.active)}}function et(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"li")(1,"button",8),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.editGen())}),e._UZ(2,"i",9),e.qZA()()}2&o&&(e.xp6(2),e.Q6J("ngClass","fas fa-edit card-icon col-red font-18"))}function tt(o,a){1&o&&e._uU(0,"Basic details")}function ot(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," Company is required "),e.qZA())}function nt(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," Model is required "),e.qZA())}function it(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," Select Single/Three phase "),e.qZA())}function at(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"div")(1,"mat-label",44),e._uU(2,"Phase"),e.qZA(),e.TgZ(3,"mat-radio-group",45),e.NdJ("change",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.onKeydown())}),e.TgZ(4,"mat-radio-button",46),e._uU(5,"Single Phase"),e.qZA(),e.TgZ(6,"mat-radio-button",47),e._uU(7,"Three Phase"),e.qZA(),e.YNc(8,it,2,0,"mat-error",7),e.qZA()()}if(2&o){const t=e.oxw();let n;e.xp6(4),e.Q6J("checked",!t.generator.is3Phase),e.xp6(2),e.Q6J("checked",t.generator.is3Phase),e.xp6(2),e.Q6J("ngIf",null==(n=t.basicDetailsGroup.get("is3Phase"))?null:n.hasError("required"))}}function rt(o,a){if(1&o&&(e.TgZ(0,"div")(1,"mat-form-field",16)(2,"mat-label"),e._uU(3,"Phase"),e.qZA(),e._UZ(4,"input",48),e.TgZ(5,"mat-icon",18),e._uU(6,"face"),e.qZA()()()),2&o){const t=e.oxw();e.xp6(4),e.s9C("value",t.phaseVal),e.Q6J("readonly",!0)}}function st(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," Power is required "),e.qZA())}function lt(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," Please enter a valid Serial number "),e.qZA())}function ct(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," Year of manufacturing is required "),e.qZA())}function mt(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"div",2)(1,"div",21)(2,"div",49)(3,"button",50),e._uU(4,"Next"),e.qZA(),e.TgZ(5,"button",51),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.viewGen())}),e._uU(6,"Cancel"),e.qZA()()()()}if(2&o){const t=e.oxw();e.xp6(3),e.Q6J("disabled",t.isEditMode&&!t.basicDetailsGroup.valid)}}function ut(o,a){1&o&&e._uU(0,"Service details")}function dt(o,a){if(1&o&&(e.TgZ(0,"div",54),e._uU(1),e.qZA()),2&o){const t=e.oxw(2);e.Q6J("ngClass",t.generator.serviceProgress.ngclass),e.xp6(1),e.AsE(" ",t.generator.oilChangeDuration-(t.generator.hoursRun-t.generator.prevOilHour)," hours of ",t.generator.oilChangeDuration," remaining ")}}function pt(o,a){if(1&o&&(e.TgZ(0,"div",54),e._uU(1),e.qZA()),2&o){const t=e.oxw(2);e.Q6J("ngClass",t.generator.serviceProgress.ngclass),e.xp6(1),e.AsE(" Extra ",-(t.generator.oilChangeDuration-(t.generator.hoursRun-t.generator.prevOilHour))," hours run after ",t.generator.oilChangeDuration," ")}}function ht(o,a){if(1&o&&(e.TgZ(0,"div",2)(1,"div",21)(2,"mat-label"),e._uU(3,"Generator Health - "),e.TgZ(4,"b"),e._uU(5),e.qZA(),e._uU(6,"%"),e.qZA(),e.TgZ(7,"div",52),e.YNc(8,dt,2,3,"div",53),e.YNc(9,pt,2,3,"div",53),e.qZA()()()),2&o){const t=e.oxw();e.xp6(5),e.Oqu(t.generator.serviceProgress.health),e.xp6(3),e.Q6J("ngIf",0===t.generator.serviceProgress.overShoot),e.xp6(1),e.Q6J("ngIf",1===t.generator.serviceProgress.overShoot)}}function _t(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," Oil volume is required "),e.qZA())}function gt(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," Service duration is required "),e.qZA())}function ft(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," Current hours run is required "),e.qZA())}function bt(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," Last service is required "),e.qZA())}function vt(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," Oil Filter number is required "),e.qZA())}function Zt(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," Air Filter number is required "),e.qZA())}function Tt(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," Fuel Filter number is required "),e.qZA())}function xt(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," Belt number is required "),e.qZA())}function Ct(o,a){if(1&o&&(e.TgZ(0,"div",2)(1,"div",21)(2,"div",49)(3,"button",50),e._uU(4,"Next"),e.qZA(),e.TgZ(5,"button",55),e._uU(6,"Previous"),e.qZA()()()()),2&o){const t=e.oxw();e.xp6(3),e.Q6J("disabled",t.isEditMode&&!t.serviceDetailsGroup.valid)}}function Nt(o,a){1&o&&e._uU(0,"Battery details")}function yt(o,a){if(1&o&&(e.TgZ(0,"div",54),e._uU(1),e.qZA()),2&o){const t=e.oxw(2);e.Q6J("ngClass",t.generator.maintenanceProgress.ngclass),e.xp6(1),e.AsE(" ",t.generator.maintenanceProgress.daysRemain," days of ",t.generator.maintenanceProgress.totalDays," m remaining. ")}}function At(o,a){if(1&o&&(e.TgZ(0,"div",54),e._uU(1),e.qZA()),2&o){const t=e.oxw(2);e.Q6J("ngClass",t.generator.maintenanceProgress.ngclass),e.xp6(1),e.AsE(" Extra ",-t.generator.maintenanceProgress.daysRemain," days after ",t.generator.maintenanceProgress.totalDays," of battery warranty. ")}}function St(o,a){if(1&o&&(e.TgZ(0,"div",2)(1,"div",21)(2,"mat-label"),e._uU(3,"Battery Health - "),e.TgZ(4,"b"),e._uU(5),e.qZA(),e._uU(6,"%"),e.qZA(),e.TgZ(7,"div",52),e.YNc(8,yt,2,3,"div",53),e.YNc(9,At,2,3,"div",53),e.qZA()()()),2&o){const t=e.oxw();e.xp6(5),e.Oqu(t.generator.maintenanceProgress.health),e.xp6(3),e.Q6J("ngIf",0===t.generator.maintenanceProgress.overShoot),e.xp6(1),e.Q6J("ngIf",1===t.generator.maintenanceProgress.overShoot)}}function wt(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," Battery Company is required "),e.qZA())}function qt(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," Service duration is required "),e.qZA())}function Dt(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," Battery Capacity is required "),e.qZA())}function Ut(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," Installation Date is required "),e.qZA())}function Mt(o,a){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," Installation Date is required "),e.qZA())}function kt(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"div",2)(1,"div",21)(2,"div",49)(3,"button",56),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.confirmAdd())}),e._uU(4),e.qZA(),e.TgZ(5,"button",55),e._uU(6,"Previous"),e.qZA()()()()}if(2&o){const t=e.oxw();e.xp6(3),e.Q6J("disabled",t.isEditMode&&!t.batteryDetailsGroup.valid),e.xp6(1),e.hij("","edit"===t.action?"Edit ":"Add","Generator")}}let Jt=(()=>{class o extends R.n{constructor(t,n,i,r,l,c,_){super(),this.httpClient=t,this.advanceTableService=n,this.snackBar=i,this.router=r,this.location=l,this.fb=c,this._bottomSheet=_,this.isEditMode=!1,this.isGenIdSub=!1,this.isErrorSub=!1,this.isNewGenSub=!1,this.phaseVal="",this.fromHere=!1,this.breadscrums=[{title:"Generators",items:["Generators"],active:"New"}],this.data=this.location.getState(),this.action=this.data.action,"edit"===this.action?(this.isEditMode=!0,this.breadscrums[0].active="Edit "+this.data.generator.id,this.dialogTitle=this.data.generator.id,this.generator=new A.R(this.data.generator)):"add"==this.action?(this.isEditMode=!0,this.dialogTitle="New Generator",this.generator=new A.R({})):(this.isEditMode=!1,this.dialogTitle=this.data.generator.id,this.breadscrums[0].active=this.data.generator.id,this.generator=new A.R(this.data.generator)),this.basicDetailsGroup=this.createBasicFormGroup(),this.serviceDetailsGroup=this.createServiceFormGroup(),this.batteryDetailsGroup=this.createBatteryFormGroup(),this.phaseVal=this.generator.is3Phase?"Three Phase":"Single Phase",this.generator.calculateProgress()}ngOnInit(){this.newGenSubs=this.advanceTableService.newGen.subscribe({next:t=>{this.isNewGenSub?(this.generator=t,this.showNotification("snackbar-success","Generator saved successfully","bottom","center"),this.isEditMode=!1):this.isNewGenSub=!0}}),this.errorSubs=this.advanceTableService.errors.subscribe({next:t=>{this.isErrorSub?this.showNotification("snackbar-danger",t.error,"bottom","center"):this.isErrorSub=!0}}),this.genIdSubs=this.advanceTableService.genId.subscribe({next:t=>{this.isGenIdSub?this.basicDetailsGroup.get("id")?.setValue(t):this.isGenIdSub=!0},error:t=>{this.isGenIdSub?console.log(t):this.isGenIdSub=!0}})}createServiceFormGroup(){return this.fb.group({oilVol:[this.generator.oilVol],oilChangeDuration:[this.generator.oilChangeDuration],prevOilHour:[this.generator.prevOilHour,[m.kI.required]],hoursRun:[this.generator.hoursRun,[m.kI.required]],fuelFilterNumber:[this.generator.fuelFilterNumber],oilFilterNumber:[this.generator.oilFilterNumber],airFilterNumber:[this.generator.airFilterNumber],beltNumber:[this.generator.beltNumber]})}showNotification(t,n,i,r){this.snackBar.open(n,"",{duration:2e3,verticalPosition:i,horizontalPosition:r,panelClass:t})}ngOnDestroy(){super.ngOnDestroy(),this.isErrorSub&&(this.errorSubs?.unsubscribe(),this.isErrorSub=!1),this.isGenIdSub&&(this.genIdSubs?.unsubscribe(),this.isGenIdSub=!1),this.isNewGenSub&&(this.newGenSubs?.unsubscribe(),this.isNewGenSub=!1)}createBasicFormGroup(){return this.fb.group({id:[this.generator.id],model:[this.generator.model],companyName:[this.generator.companyName,[m.kI.required]],kw:[this.generator.kw,[m.kI.required]],serialNumber:[this.generator.serialNumber,[m.kI.required]],yearOfMnf:[this.generator.yearOfMnf],is3Phase:[this.generator.is3Phase,[m.kI.required]]})}createBatteryFormGroup(){return this.fb.group({batteryCompanyName:[this.generator.batteryCompanyName],batteryCapacity:[this.generator.batteryCapacity],replaceDurationMonths:[this.generator.replaceDurationMonths],batterySerialNumber:[this.generator.batterySerialNumber,[m.kI.required]],installationDate:[(0,d.p6)(this.generator.installationDate,"YYYY-MM-dd","en"),[m.kI.required]]})}confirmAdd(){const t=new A.R(this.basicDetailsGroup.getRawValue());t.fillValuesFromBattery(this.batteryDetailsGroup.getRawValue()),t.fillValuesFromService(this.serviceDetailsGroup.getRawValue()),"edit"===this.action?this.advanceTableService.updateAdvanceTable(this.dialogTitle,t):this.advanceTableService.addAdvanceTable(t)}onKeydown(){const t=this.basicDetailsGroup.get("companyName")?.value.trim();if(t.length<4)return;const n=this.basicDetailsGroup.get("kw")?.value,i=this.basicDetailsGroup.get("is3Phase")?.value;this.advanceTableService.getGenId(t,n,i)}openBottomSheet(){this._bottomSheet.open(Gt)}editGen(){this.isEditMode=!0,this.action="edit",this.fromHere=!0}viewGen(){this.isEditMode=!1,this.fromHere||this.router.navigateByUrl("/gens")}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(O.eN),e.Y36(x.T),e.Y36(J.ux),e.Y36(N.F0),e.Y36(d.Ye),e.Y36(m.QS),e.Y36(je))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-new"]],features:[e.qOj],decls:202,vars:58,consts:[[1,"content"],[1,"content-block"],[1,"row"],[1,"col-xl-6","col-lg-6","col-md-12","col-sm-12","mb-2"],["class","block-header",4,"ngFor","ngForOf"],[1,"col-xs-12","col-sm-12","col-md-12","col-lg-12"],[1,"breadcrumb"],[4,"ngIf"],["mat-icon-button","","color","primary",1,"tbl-action-btn",3,"click"],[3,"ngClass"],[1,"card"],[3,"linear"],["stepper",""],[3,"stepControl"],["matStepLabel",""],[1,"register-form","m-4",3,"formGroup"],["appearance","outline",1,"example-full-width"],["matInput","","formControlName","id",3,"readonly"],["matSuffix",""],["matInput","","formControlName","companyName",3,"readonly","keydown"],["matInput","","formControlName","model",3,"readonly"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12","mb-2"],[1,"m-b-20"],["matInput","","formControlName","kw","type","number",3,"readonly","keydown"],["matInput","","formControlName","serialNumber","required","",3,"readonly"],["matInput","","formControlName","yearOfMnf","type","number",3,"readonly"],["class","row",4,"ngIf"],["matInput","","formControlName","oilVol","type","number",3,"readonly"],["matInput","","formControlName","oilChangeDuration","type","number",3,"readonly"],["matInput","","formControlName","hoursRun","type","number",3,"readonly"],["matInput","","formControlName","prevOilHour","type","number",3,"readonly"],["matInput","","formControlName","oilFilterNumber",3,"readonly"],["matInput","","formControlName","airFilterNumber",3,"readonly"],["matInput","","formControlName","fuelFilterNumber",3,"readonly"],["matInput","","formControlName","beltNumber",3,"readonly"],["matInput","","formControlName","batteryCompanyName",3,"readonly"],["matInput","","formControlName","replaceDurationMonths","type","number",3,"readonly"],["matInput","","formControlName","batteryCapacity","type","number",3,"readonly"],["matInput","","formControlName","installationDate",3,"matDatepicker","readonly"],["matSuffix","",3,"for"],["picker",""],["matInput","","formControlName","batterySerialNumber",3,"readonly"],[1,"block-header"],[3,"title","items","active_item"],[1,"msr-3"],["aria-label","Select Phase","formControlName","is3Phase","required","",3,"change"],["value","False",3,"checked"],["value","True",3,"checked"],["matInput","",3,"readonly","value"],[1,"example-button-row"],["mat-raised-button","","matStepperNext","","color","primary",3,"disabled"],["mat-raised-button","","color","warn","tabindex","-1",3,"click"],[1,"progress","shadow-style","mb-2","mt-3"],["role","progressbar","aria-valuemin","0","aria-valuemax","100",3,"ngClass",4,"ngIf"],["role","progressbar","aria-valuemin","0","aria-valuemax","100",3,"ngClass"],["mat-raised-button","","matStepperPrevious","","color","warn","tabindex","-1"],["mat-raised-button","","matStepperNext","","color","primary",3,"disabled","click"]],template:function(t,n){if(1&t&&(e.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3),e.YNc(4,We,2,3,"div",4),e.qZA(),e.TgZ(5,"div",3)(6,"div",2)(7,"div",5)(8,"ul",6),e.YNc(9,et,3,1,"li",7),e.TgZ(10,"li")(11,"button",8),e.NdJ("click",function(r){return r.stopPropagation()}),e._UZ(12,"i",9),e.qZA()(),e.TgZ(13,"li")(14,"button",8),e.NdJ("click",function(r){return r.stopPropagation()}),e._UZ(15,"i",9),e.qZA()(),e.TgZ(16,"li")(17,"button",8),e.NdJ("click",function(r){return r.stopPropagation()}),e._UZ(18,"i",9),e.qZA()()()()()()(),e.TgZ(19,"div",2)(20,"div",10)(21,"mat-horizontal-stepper",11,12)(23,"mat-step",13),e.YNc(24,tt,1,0,"ng-template",14),e.TgZ(25,"form",15)(26,"div",2)(27,"mat-form-field",16)(28,"mat-label"),e._uU(29,"Generator ID"),e.qZA(),e._UZ(30,"input",17),e.TgZ(31,"mat-icon",18),e._uU(32,"face"),e.qZA()()(),e.TgZ(33,"div",2)(34,"div",3)(35,"mat-form-field",16)(36,"mat-label"),e._uU(37,"Company"),e.qZA(),e.TgZ(38,"input",19),e.NdJ("keydown",function(){return n.onKeydown()}),e.qZA(),e.TgZ(39,"mat-icon",18),e._uU(40,"face"),e.qZA(),e.YNc(41,ot,2,0,"mat-error",7),e.qZA()(),e.TgZ(42,"div",3)(43,"mat-form-field",16)(44,"mat-label"),e._uU(45,"Model"),e.qZA(),e._UZ(46,"input",20),e.TgZ(47,"mat-icon",18),e._uU(48,"face"),e.qZA(),e.YNc(49,nt,2,0,"mat-error",7),e.qZA()()(),e.TgZ(50,"div",2)(51,"div",21)(52,"div",22),e.YNc(53,at,9,3,"div",7),e.YNc(54,rt,7,2,"div",7),e.qZA()(),e.TgZ(55,"div",21)(56,"mat-form-field",16)(57,"mat-label"),e._uU(58,"Power (Kw)"),e.qZA(),e.TgZ(59,"input",23),e.NdJ("keydown",function(){return n.onKeydown()}),e.qZA(),e.TgZ(60,"mat-icon",18),e._uU(61,"face"),e.qZA(),e.YNc(62,st,2,0,"mat-error",7),e.qZA()()(),e.TgZ(63,"div",2)(64,"div",3)(65,"mat-form-field",16)(66,"mat-label"),e._uU(67,"Serial number"),e.qZA(),e._UZ(68,"input",24),e.TgZ(69,"mat-icon",18),e._uU(70,"email"),e.qZA(),e.YNc(71,lt,2,0,"mat-error",7),e.qZA()(),e.TgZ(72,"div",3)(73,"mat-form-field",16)(74,"mat-label"),e._uU(75,"Year of Manufacturing"),e.qZA(),e._UZ(76,"input",25),e.TgZ(77,"mat-icon",18),e._uU(78,"phone"),e.qZA(),e.YNc(79,ct,2,0,"mat-error",7),e.qZA()()(),e.YNc(80,mt,7,1,"div",26),e.qZA()(),e.TgZ(81,"mat-step",13),e.YNc(82,ut,1,0,"ng-template",14),e.TgZ(83,"form",15),e.YNc(84,ht,10,3,"div",26),e.TgZ(85,"div",2)(86,"div",3)(87,"mat-form-field",16)(88,"mat-label"),e._uU(89,"Oil volume (ltr)"),e.qZA(),e._UZ(90,"input",27),e.TgZ(91,"mat-icon",18),e._uU(92,"phone"),e.qZA(),e.YNc(93,_t,2,0,"mat-error",7),e.qZA()(),e.TgZ(94,"div",3)(95,"mat-form-field",16)(96,"mat-label"),e._uU(97,"Service duration (hrs)"),e.qZA(),e._UZ(98,"input",28),e.TgZ(99,"mat-icon",18),e._uU(100,"phone"),e.qZA(),e.YNc(101,gt,2,0,"mat-error",7),e.qZA()()(),e.TgZ(102,"div",2)(103,"div",3)(104,"mat-form-field",16)(105,"mat-label"),e._uU(106,"Current hours run"),e.qZA(),e._UZ(107,"input",29),e.TgZ(108,"mat-icon",18),e._uU(109,"phone"),e.qZA(),e.YNc(110,ft,2,0,"mat-error",7),e.qZA()(),e.TgZ(111,"div",3)(112,"mat-form-field",16)(113,"mat-label"),e._uU(114,"Last service (hrs)"),e.qZA(),e._UZ(115,"input",30),e.TgZ(116,"mat-icon",18),e._uU(117,"phone"),e.qZA(),e.YNc(118,bt,2,0,"mat-error",7),e.qZA()()(),e.TgZ(119,"div",2)(120,"div",3)(121,"mat-form-field",16)(122,"mat-label"),e._uU(123,"Oil Filter number"),e.qZA(),e._UZ(124,"input",31),e.TgZ(125,"mat-icon",18),e._uU(126,"phone"),e.qZA(),e.YNc(127,vt,2,0,"mat-error",7),e.qZA()(),e.TgZ(128,"div",3)(129,"mat-form-field",16)(130,"mat-label"),e._uU(131,"Air Filter number"),e.qZA(),e._UZ(132,"input",32),e.TgZ(133,"mat-icon",18),e._uU(134,"phone"),e.qZA(),e.YNc(135,Zt,2,0,"mat-error",7),e.qZA()()(),e.TgZ(136,"div",2)(137,"div",3)(138,"mat-form-field",16)(139,"mat-label"),e._uU(140,"Fuel Filter number"),e.qZA(),e._UZ(141,"input",33),e.TgZ(142,"mat-icon",18),e._uU(143,"phone"),e.qZA(),e.YNc(144,Tt,2,0,"mat-error",7),e.qZA()(),e.TgZ(145,"div",3)(146,"mat-form-field",16)(147,"mat-label"),e._uU(148,"Belt number"),e.qZA(),e._UZ(149,"input",34),e.TgZ(150,"mat-icon",18),e._uU(151,"phone"),e.qZA(),e.YNc(152,xt,2,0,"mat-error",7),e.qZA()()(),e.YNc(153,Ct,7,1,"div",26),e.qZA()(),e.TgZ(154,"mat-step",13),e.YNc(155,Nt,1,0,"ng-template",14),e.TgZ(156,"form",15),e.YNc(157,St,10,3,"div",26),e.TgZ(158,"div",2)(159,"div",3)(160,"mat-form-field",16)(161,"mat-label"),e._uU(162,"Battery Company"),e.qZA(),e._UZ(163,"input",35),e.TgZ(164,"mat-icon",18),e._uU(165,"phone"),e.qZA(),e.YNc(166,wt,2,0,"mat-error",7),e.qZA()(),e.TgZ(167,"div",3)(168,"mat-form-field",16)(169,"mat-label"),e._uU(170,"Replacement duration (months)"),e.qZA(),e._UZ(171,"input",36),e.TgZ(172,"mat-icon",18),e._uU(173,"phone"),e.qZA(),e.YNc(174,qt,2,0,"mat-error",7),e.qZA()()(),e.TgZ(175,"div",2)(176,"div",3)(177,"mat-form-field",16)(178,"mat-label"),e._uU(179,"Battery Capacity (KwH)"),e.qZA(),e._UZ(180,"input",37),e.TgZ(181,"mat-icon",18),e._uU(182,"phone"),e.qZA(),e.YNc(183,Dt,2,0,"mat-error",7),e.qZA()(),e.TgZ(184,"div",3)(185,"mat-form-field",16)(186,"mat-label"),e._uU(187,"Installation Date"),e.qZA(),e._UZ(188,"input",38)(189,"mat-datepicker-toggle",39)(190,"mat-datepicker",null,40),e.YNc(192,Ut,2,0,"mat-error",7),e.qZA()()(),e.TgZ(193,"div",2)(194,"mat-form-field",16)(195,"mat-label"),e._uU(196,"Battery serial number"),e.qZA(),e._UZ(197,"input",41),e.TgZ(198,"mat-icon",18),e._uU(199,"face"),e.qZA(),e.YNc(200,Mt,2,0,"mat-error",7),e.qZA()(),e.YNc(201,kt,7,2,"div",26),e.qZA()()()()()()()),2&t){const i=e.MAs(191);let r,l,c,_,g,D,U,ee,te,oe,ne,ie,ae,re,se,le,ce,me;e.xp6(4),e.Q6J("ngForOf",n.breadscrums),e.xp6(5),e.Q6J("ngIf",!n.isEditMode),e.xp6(3),e.Q6J("ngClass","fas fa-history card-icon col-green font-18"),e.xp6(3),e.Q6J("ngClass","fas fa-truck-loading card-icon col-orange font-18"),e.xp6(3),e.Q6J("ngClass","fas fa-wrench card-icon col-blue font-18"),e.xp6(3),e.Q6J("linear",!0),e.xp6(2),e.Q6J("stepControl",n.basicDetailsGroup),e.xp6(2),e.Q6J("formGroup",n.basicDetailsGroup),e.xp6(5),e.Q6J("readonly",!0),e.xp6(8),e.Q6J("readonly",!n.isEditMode),e.xp6(3),e.Q6J("ngIf",null==(r=n.basicDetailsGroup.get("companyName"))?null:r.hasError("required")),e.xp6(5),e.Q6J("readonly",!n.isEditMode),e.xp6(3),e.Q6J("ngIf",null==(l=n.basicDetailsGroup.get("model"))?null:l.hasError("required")),e.xp6(4),e.Q6J("ngIf",n.isEditMode),e.xp6(1),e.Q6J("ngIf",!n.isEditMode),e.xp6(5),e.Q6J("readonly",!n.isEditMode),e.xp6(3),e.Q6J("ngIf",null==(c=n.basicDetailsGroup.get("kw"))?null:c.hasError("required")),e.xp6(6),e.Q6J("readonly",!n.isEditMode),e.xp6(3),e.Q6J("ngIf",(null==(_=n.basicDetailsGroup.get("serialNumber"))?null:_.hasError("required"))||(null==(_=n.basicDetailsGroup.get("serialNumber"))?null:_.touched)),e.xp6(5),e.Q6J("readonly",!n.isEditMode),e.xp6(3),e.Q6J("ngIf",null==(g=n.basicDetailsGroup.get("yearOfMnf"))?null:g.hasError("required")),e.xp6(1),e.Q6J("ngIf",n.isEditMode),e.xp6(1),e.Q6J("stepControl",n.serviceDetailsGroup),e.xp6(2),e.Q6J("formGroup",n.serviceDetailsGroup),e.xp6(1),e.Q6J("ngIf",!n.isEditMode),e.xp6(6),e.Q6J("readonly",!n.isEditMode),e.xp6(3),e.Q6J("ngIf",null==(D=n.serviceDetailsGroup.get("oilVol"))?null:D.hasError("required")),e.xp6(5),e.Q6J("readonly",!n.isEditMode),e.xp6(3),e.Q6J("ngIf",null==(U=n.serviceDetailsGroup.get("oilChangeDuration"))?null:U.hasError("required")),e.xp6(6),e.Q6J("readonly",!n.isEditMode),e.xp6(3),e.Q6J("ngIf",null==(ee=n.serviceDetailsGroup.get("hoursRun"))?null:ee.hasError("required")),e.xp6(5),e.Q6J("readonly",!n.isEditMode),e.xp6(3),e.Q6J("ngIf",null==(te=n.serviceDetailsGroup.get("prevOilHour"))?null:te.hasError("required")),e.xp6(6),e.Q6J("readonly",!n.isEditMode),e.xp6(3),e.Q6J("ngIf",null==(oe=n.serviceDetailsGroup.get("oilFilterNumber"))?null:oe.hasError("required")),e.xp6(5),e.Q6J("readonly",!n.isEditMode),e.xp6(3),e.Q6J("ngIf",null==(ne=n.serviceDetailsGroup.get("airFilterNumber"))?null:ne.hasError("required")),e.xp6(6),e.Q6J("readonly",!n.isEditMode),e.xp6(3),e.Q6J("ngIf",null==(ie=n.serviceDetailsGroup.get("fuelFilterNumber"))?null:ie.hasError("required")),e.xp6(5),e.Q6J("readonly",!n.isEditMode),e.xp6(3),e.Q6J("ngIf",null==(ae=n.serviceDetailsGroup.get("beltNumber"))?null:ae.hasError("required")),e.xp6(1),e.Q6J("ngIf",n.isEditMode),e.xp6(1),e.Q6J("stepControl",n.batteryDetailsGroup),e.xp6(2),e.Q6J("formGroup",n.batteryDetailsGroup),e.xp6(1),e.Q6J("ngIf",!n.isEditMode),e.xp6(6),e.Q6J("readonly",!n.isEditMode),e.xp6(3),e.Q6J("ngIf",null==(re=n.batteryDetailsGroup.get("batteryCompanyName"))?null:re.hasError("required")),e.xp6(5),e.Q6J("readonly",!n.isEditMode),e.xp6(3),e.Q6J("ngIf",null==(se=n.batteryDetailsGroup.get("replaceDurationMonths"))?null:se.hasError("required")),e.xp6(6),e.Q6J("readonly",!n.isEditMode),e.xp6(3),e.Q6J("ngIf",null==(le=n.batteryDetailsGroup.get("batteryCapacity"))?null:le.hasError("required")),e.xp6(5),e.Q6J("matDatepicker",i)("readonly",!n.isEditMode),e.xp6(1),e.Q6J("for",i),e.xp6(3),e.Q6J("ngIf",null==(ce=n.batteryDetailsGroup.get("installationDate"))?null:ce.hasError("required")),e.xp6(5),e.Q6J("readonly",!n.isEditMode),e.xp6(3),e.Q6J("ngIf",null==(me=n.batteryDetailsGroup.get("installationDate"))?null:me.hasError("required")),e.xp6(1),e.Q6J("ngIf",n.isEditMode)}},dependencies:[d.mk,d.sg,d.O5,m._Y,m.Fj,m.wV,m.JJ,m.JL,m.Q7,m.sg,m.u,C.KE,C.hX,C.TO,C.R9,j.Nt,Z.lW,Z.RK,G.Hw,Y.VQ,Y.U0,q.Mq,q.hl,q.nW,P.L,T.C0,T.VY,T.Vq,T.Ic,T.fd]}),o})(),Gt=(()=>{class o{constructor(t){this._bottomSheetRef=t}openLink(t){this._bottomSheetRef.dismiss(),t.preventDefault()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(Q))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-bottom-sheet-overview-example-sheet"]],decls:21,vars:0,consts:[["href","https://keep.google.com/","mat-list-item","",3,"click"],["mat-line",""],["href","https://docs.google.com/","mat-list-item","",3,"click"],["href","https://plus.google.com/","mat-list-item","",3,"click"],["href","https://hangouts.google.com/","mat-list-item","",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"mat-nav-list")(1,"a",0),e.NdJ("click",function(r){return n.openLink(r)}),e.TgZ(2,"span",1),e._uU(3,"Google Keep"),e.qZA(),e.TgZ(4,"span",1),e._uU(5,"Add to a note"),e.qZA()(),e.TgZ(6,"a",2),e.NdJ("click",function(r){return n.openLink(r)}),e.TgZ(7,"span",1),e._uU(8,"Google Docs"),e.qZA(),e.TgZ(9,"span",1),e._uU(10,"Embed in a document"),e.qZA()(),e.TgZ(11,"a",3),e.NdJ("click",function(r){return n.openLink(r)}),e.TgZ(12,"span",1),e._uU(13,"Google Plus"),e.qZA(),e.TgZ(14,"span",1),e._uU(15,"Share with your friends"),e.qZA()(),e.TgZ(16,"a",4),e.NdJ("click",function(r){return n.openLink(r)}),e.TgZ(17,"span",1),e._uU(18,"Google Hangouts"),e.qZA(),e.TgZ(19,"span",1),e._uU(20,"Show to your coworkers"),e.qZA()()())},dependencies:[W.Hk,W.Tg,p.X2],encapsulation:2}),o})();const Et=[{path:"",component:Oe},{path:"new",component:Jt},{path:"info",component:(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-info"]],decls:2,vars:0,template:function(t,n){1&t&&(e.TgZ(0,"p"),e._uU(1,"info works!"),e.qZA())}}),o})()}];let It=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[N.Bz.forChild(Et),N.Bz]}),o})();var Qt=s(4385),Yt=s(3546),Bt=s(3683),Rt=s(1783),Lt=s(5626);let Ot=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({providers:[x.T],imports:[d.ez,It,d.ez,m.u5,m.UX,h.p0,k.TU,C.lN,j.c,J.ZX,Z.ot,G.Ps,Y.Fk,Qt.LD,F.p9,Yt.QW,q.FA,H.Cq,f.Is,y.JX,Bt.g0,v.Tx,Rt.m,Lt.K,T.T5,V.Cv,p.si,p.uc,z]}),o})()}}]);
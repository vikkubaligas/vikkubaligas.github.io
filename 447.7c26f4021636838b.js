"use strict";(self.webpackChunkaxen=self.webpackChunkaxen||[]).push([[447],{1447:(zt,B,s)=>{s.r(B),s.d(B,{GensModule:()=>$t});var d=s(6895),N=s(9299),p=s(3238),O=s(9186),T=s(2759),U=s(5017),M=s(8739),G=s(6308),b=s(1561),de=s(4968),pe=s(1135),L=s(6451),he=s(6035),_e=s(4004),f=s(5938),e=s(4650),Z=s(4859);let ge=(()=>{class n{constructor(t,o,i){if(this.dialogRef=t,this.data=o,this.tableService=i,this.dispData={text1:"",value1:"",text2:"",value2:"",text3:"",value3:""},"gen"==o.type){this.dispData.text1="Generator ID: ",this.dispData.text2="Power: ",this.dispData.text3="Phase: ";const r=o.generator;this.dispData.value1=r.id,this.dispData.value2=""+r.kw,this.dispData.value3=r.is3Phase?"Three Phase":"Single Phase"}}onNoClick(){this.dialogRef.close()}confirmDelete(){this.tableService.deleteAdvanceTable(this.data.delId)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(f.so),e.Y36(f.WI),e.Y36(T.T))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-delete"]],decls:25,vars:7,consts:[[1,"container"],["mat-dialog-title",""],["mat-dialog-content",""],[1,"clearfix"],[1,"fw-bold"],["mat-dialog-actions","",1,"mb-1"],["mat-flat-button","","color","warn",3,"mat-dialog-close","click"],["mat-flat-button","","tabindex","-1",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"h3",1),e._uU(2,"Are you sure?"),e.qZA(),e.TgZ(3,"div",2)(4,"ul",3)(5,"li")(6,"p")(7,"span",4),e._uU(8),e.qZA(),e._uU(9),e.qZA()(),e.TgZ(10,"li")(11,"p")(12,"span",4),e._uU(13),e.qZA(),e._uU(14),e.qZA()(),e.TgZ(15,"li")(16,"p")(17,"span",4),e._uU(18),e.qZA(),e._uU(19),e.qZA()()()(),e.TgZ(20,"div",5)(21,"button",6),e.NdJ("click",function(){return o.confirmDelete()}),e._uU(22," Delete "),e.qZA(),e.TgZ(23,"button",7),e.NdJ("click",function(){return o.onNoClick()}),e._uU(24,"Cancel"),e.qZA()()()),2&t&&(e.xp6(8),e.Oqu(o.dispData.text1),e.xp6(1),e.Oqu(o.dispData.value1),e.xp6(4),e.Oqu(o.dispData.text2),e.xp6(1),e.Oqu(o.dispData.value2),e.xp6(4),e.Oqu(o.dispData.text3),e.xp6(1),e.hij("",o.dispData.value3," "),e.xp6(2),e.Q6J("mat-dialog-close",1))},dependencies:[Z.lW,f.ZT,f.uh,f.xY,f.H8]}),n})();var R=s(529),J=s(7009),h=s(7155),k=s(7392),F=s(6709),P=s(1572),fe=s(266),H=s(1299),V=s(3162);const ve=["filter"];function be(n,a){if(1&n&&(e.TgZ(0,"div",56),e._UZ(1,"app-breadcrumb",57),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Q6J("title",t.title)("items",t.items)("active_item",t.active)}}function Ze(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"mat-header-cell",58)(1,"mat-checkbox",59),e.NdJ("change",function(i){e.CHM(t);const r=e.oxw();return e.KtG(i?r.masterToggle():null)}),e.qZA()()}if(2&n){const t=e.oxw();e.Q6J("ngClass","tbl-col-width-per-6"),e.xp6(1),e.Q6J("checked",t.selection.hasValue()&&t.isAllSelected())("indeterminate",t.selection.hasValue()&&!t.isAllSelected())("ngClass","tbl-checkbox")}}function xe(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"mat-cell",58)(1,"mat-checkbox",60),e.NdJ("click",function(i){return i.stopPropagation()})("change",function(i){const l=e.CHM(t).$implicit,c=e.oxw();return e.KtG(i?c.selection.toggle(l):null)}),e.qZA()()}if(2&n){const t=a.$implicit,o=e.oxw();e.Q6J("ngClass","tbl-col-width-per-6"),e.xp6(1),e.Q6J("checked",o.selection.isSelected(t))("ngClass","tbl-checkbox")}}function Te(n,a){1&n&&(e.TgZ(0,"mat-header-cell",61),e._uU(1,"Generator ID"),e.qZA())}function Ce(n,a){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Oqu(t.id)}}function Ne(n,a){1&n&&(e.TgZ(0,"mat-header-cell",61),e._uU(1,"Serial Number"),e.qZA())}function Ge(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"mat-cell",62),e.NdJ("contextmenu",function(i){const l=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.onContextMenu(i,l))}),e.TgZ(1,"span",63),e._uU(2,"Serial Number:"),e.qZA(),e._uU(3),e.qZA()}if(2&n){const t=a.$implicit;e.xp6(3),e.Oqu(t.serialNumber)}}function ye(n,a){1&n&&(e.TgZ(0,"mat-header-cell",61),e._uU(1,"Hours Run"),e.qZA())}function Ae(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"mat-cell",62),e.NdJ("contextmenu",function(i){const l=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.onContextMenu(i,l))}),e.TgZ(1,"span",63),e._uU(2,"Hours Run:"),e.qZA(),e._uU(3),e.qZA()}if(2&n){const t=a.$implicit;e.xp6(3),e.Oqu(t.hoursRun)}}function Se(n,a){1&n&&(e.TgZ(0,"mat-header-cell",61),e._uU(1,"Last service"),e.qZA())}function we(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"mat-cell",62),e.NdJ("contextmenu",function(i){const l=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.onContextMenu(i,l))}),e.TgZ(1,"span",63),e._uU(2,"Last service:"),e.qZA(),e._uU(3),e.qZA()}if(2&n){const t=a.$implicit;e.xp6(3),e.AsE(" ",t.prevOilHour," hrs on ",t.lastServiceDate," ")}}function De(n,a){1&n&&(e.TgZ(0,"mat-header-cell",61),e._uU(1,"Remaining Hours"),e.qZA())}function qe(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"mat-cell",62),e.NdJ("contextmenu",function(i){const l=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.onContextMenu(i,l))}),e.TgZ(1,"span",63),e._uU(2,"Remaining Hours:"),e.qZA(),e._uU(3),e.qZA()}if(2&n){const t=a.$implicit;e.xp6(3),e.AsE(" ",t.getRemainingHours()," / ",t.oilChangeDuration," hrs ")}}function Ue(n,a){1&n&&(e.TgZ(0,"mat-header-cell",61),e._uU(1,"Health"),e.qZA())}function Me(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"mat-cell",62),e.NdJ("contextmenu",function(i){const l=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.onContextMenu(i,l))}),e.TgZ(1,"span",63),e._uU(2,"Health:"),e.qZA(),e.TgZ(3,"mat-progress-bar",64),e._uU(4),e.qZA()()}if(2&n){const t=a.$implicit;e.xp6(3),e.Q6J("value",t.serviceProgress.progress)("color",t.serviceProgress.color2),e.xp6(1),e.hij(" ",t.getRemainingHours()," ")}}function Je(n,a){1&n&&(e.TgZ(0,"mat-header-cell",61),e._uU(1," Status "),e.qZA())}function ke(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"mat-cell",65),e.NdJ("contextmenu",function(i){const l=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.onContextMenu(i,l))}),e.TgZ(1,"span",63),e._uU(2,"Status"),e.qZA(),e.TgZ(3,"span",66),e._uU(4),e.qZA()()}if(2&n){const t=a.$implicit;e.xp6(4),e.Oqu(t.getStatus())}}function Ee(n,a){1&n&&(e.TgZ(0,"mat-header-cell",67),e._uU(1,"Actions"),e.qZA())}function Ie(n,a){1&n&&(e.TgZ(0,"mat-cell",67)(1,"button",68),e.NdJ("click",function(o){return o.stopPropagation()}),e._UZ(2,"i",58),e.qZA(),e.TgZ(3,"button",68),e.NdJ("click",function(o){return o.stopPropagation()}),e._UZ(4,"i",58),e.qZA(),e.TgZ(5,"button",68),e.NdJ("click",function(o){return o.stopPropagation()}),e._UZ(6,"i",58),e.qZA()()),2&n&&(e.xp6(2),e.Q6J("ngClass","fas fa-history card-icon col-orange font-18"),e.xp6(2),e.Q6J("ngClass","fas fa-truck-loading card-icon col-orange font-18"),e.xp6(2),e.Q6J("ngClass","fas fa-wrench card-icon col-orange font-18"))}function Qe(n,a){1&n&&e._UZ(0,"mat-header-row")}function Ye(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"mat-row",69),e.NdJ("click",function(){const r=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.viewCall(r))}),e.qZA()}2&n&&e.Udp("cursor","pointer")}function Be(n,a){1&n&&(e.TgZ(0,"div",70),e._UZ(1,"mat-progress-spinner",71),e.qZA()),2&n&&(e.xp6(1),e.Q6J("diameter",40))}function Oe(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",72),e.NdJ("click",function(){const r=e.CHM(t).item,l=e.oxw();return e.KtG(l.editCall(r))}),e.TgZ(1,"mat-icon"),e._uU(2,"create"),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.qZA()(),e.TgZ(5,"button",72),e.NdJ("click",function(){const r=e.CHM(t).item,l=e.oxw();return e.KtG(l.deleteItem(r))}),e.TgZ(6,"mat-icon"),e._uU(7,"delete"),e.qZA(),e.TgZ(8,"span"),e._uU(9),e.qZA()()}if(2&n){const t=a.item;e.xp6(4),e.hij("Edit ",t.id,""),e.xp6(5),e.hij("Delete ",t.id,"")}}function Le(n,a){if(1&n&&(e.TgZ(0,"div",73),e._uU(1," No results "),e.qZA()),2&n){const t=e.oxw();e.Udp("display",0===t.dataSource.renderedData.length?"":"none")}}const Re=function(){return[5,10,25,100]};let Fe=(()=>{class n extends O.n{constructor(t,o,i,r,l){super(),this.httpClient=t,this.dialog=o,this.advanceTableService=i,this.snackBar=r,this.router=l,this.displayedColumns=["select","generatorId","serialNumber","hoursRun","prevOilHour","remaining","health","status","actions"],this.selection=new U.Ov(!0,[]),this.breadscrums=[{title:"Generators",items:["Generators"],active:"All"}],this.contextMenuPosition={x:"0px",y:"0px"}}ngOnInit(){this.loadData()}refresh(){this.loadData()}addNew(){this.router.navigateByUrl("/gens/new",{state:{generator:this.generator,action:"add"}})}viewCall(t){this.id=t.id,this.router.navigateByUrl("/gens/new",{state:{id:t.id,generator:t,action:"view"}})}editCall(t){this.id=t.id,this.router.navigateByUrl("/gens/new",{state:{id:t.id,generator:t,action:"edit"}})}deleteItem(t){this.id=t.id;const o=this.dialog.open(ge,{data:{action:"del",generator:t,type:"gen",delId:t.id}});this.subs.sink=o.afterClosed().subscribe(i=>{if(1===i){const r=this.exampleDatabase?.dataChange.value.findIndex(l=>l.id===this.id);null!=r&&this.exampleDatabase&&(this.exampleDatabase.dataChange.value.splice(r,1),this.refreshTable(),this.showNotification("snackbar-danger","Delete Record Successfully...!!!","bottom","center"))}})}refreshTable(){this.paginator._changePageSize(this.paginator.pageSize)}isAllSelected(){return this.selection.selected.length===this.dataSource.renderedData.length}masterToggle(){this.isAllSelected()?this.selection.clear():this.dataSource.renderedData.forEach(t=>this.selection.select(t))}removeSelectedRows(){const t=this.selection.selected.length;this.selection.selected.forEach(o=>{const i=this.dataSource.renderedData.findIndex(r=>r===o);this.exampleDatabase?.dataChange.value.splice(i,1),this.refreshTable(),this.selection=new U.Ov(!0,[])}),this.showNotification("snackbar-danger",t+" Record Delete Successfully...!!!","bottom","center")}loadData(){this.exampleDatabase=new T.T(this.httpClient),this.dataSource=new Pe(this.exampleDatabase,this.paginator,this.sort),this.subs.sink=(0,de.R)(this.filter.nativeElement,"keyup").subscribe(()=>{this.dataSource&&(this.dataSource.filter=this.filter.nativeElement.value)})}showNotification(t,o,i,r){this.snackBar.open(o,"",{duration:2e3,verticalPosition:i,horizontalPosition:r,panelClass:t})}exportExcel(){const t=this.dataSource.filteredData.map(o=>({"Generator ID":o.id,"Serial Number":o.serialNumber,"Hours run":o.hoursRun,"Last service":o.prevOilHour,Status:o.getStatus()}));he.c.exportToExcel(t,"excel")}onContextMenu(t,o){t.preventDefault(),this.contextMenuPosition.x=t.clientX+"px",this.contextMenuPosition.y=t.clientY+"px",void 0!==this.contextMenu&&null!==this.contextMenu.menu&&(this.contextMenu.menuData={item:o},this.contextMenu.menu.focusFirstItem("mouse"),this.contextMenu.openMenu())}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(R.eN),e.Y36(f.uw),e.Y36(T.T),e.Y36(J.ux),e.Y36(N.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-list"]],viewQuery:function(t,o){if(1&t&&(e.Gf(M.NW,7),e.Gf(G.YE,7),e.Gf(ve,7),e.Gf(b.p6,5)),2&t){let i;e.iGM(i=e.CRH())&&(o.paginator=i.first),e.iGM(i=e.CRH())&&(o.sort=i.first),e.iGM(i=e.CRH())&&(o.filter=i.first),e.iGM(i=e.CRH())&&(o.contextMenu=i.first)}},features:[e._Bn([{provide:p.Ad,useValue:"en-GB"}]),e.qOj],decls:79,vars:17,consts:[[1,"content"],[1,"content-block"],["class","block-header",4,"ngFor","ngForOf"],[1,"row"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12"],[1,"card"],[1,"materialTableHeader"],[1,"left"],[1,"header-buttons-left","ms-0"],[1,"tbl-title"],[1,"tbl-search-box"],["for","search-input"],[1,"material-icons","search-icon"],["placeholder","search ID, serial number, company, model...","type","text","aria-label","Search box",1,"browser-default","search-field"],["filter",""],[1,"right"],[1,"tbl-export-btn"],[1,"tbl-header-btn"],["matTooltip","ADD",1,"m-l-10"],["mat-mini-fab","","color","primary",3,"click"],[1,"col-white"],["matTooltip","REFRESH",1,"m-l-10"],["matTooltip","DELETE",1,"m-l-10",3,"hidden"],["mat-mini-fab","","color","warn",3,"click"],["matTooltip","XLSX",1,"export-button","m-l-10"],["src","assets/images/icons/xlsx.png","alt","",3,"click"],[1,"body","overflow-auto"],[1,"table-responsive"],["mat-table","","matSort","",1,"table","mat-cell",3,"dataSource"],["table",""],["matColumnDef","select"],[3,"ngClass",4,"matHeaderCellDef"],[3,"ngClass",4,"matCellDef"],["matColumnDef","generatorId"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","serialNumber"],[3,"contextmenu",4,"matCellDef"],["matColumnDef","hoursRun"],["matColumnDef","prevOilHour"],["matColumnDef","remaining"],["matColumnDef","health"],["matColumnDef","status"],["mat-cell","",3,"contextmenu",4,"matCellDef"],["matColumnDef","actions"],["class","pr-0",4,"matHeaderCellDef"],["class","pr-0",4,"matCellDef"],[4,"matHeaderRowDef"],["matRipple","",3,"cursor","click",4,"matRowDef","matRowDefColumns"],["class","tbl-spinner",4,"ngIf"],[2,"visibility","hidden","position","fixed",3,"matMenuTriggerFor"],["contextMenu","matMenu"],["matMenuContent",""],["class","no-results",3,"display",4,"ngIf"],[3,"length","pageIndex","pageSize","pageSizeOptions"],["paginator",""],[1,"block-header"],[3,"title","items","active_item"],[3,"ngClass"],[3,"checked","indeterminate","ngClass","change"],[3,"checked","ngClass","click","change"],["mat-sort-header",""],[3,"contextmenu"],[1,"mobile-label"],["mode","determinate",1,"flex-fill",3,"value","color"],["mat-cell","",3,"contextmenu"],[1,"badge","badge-solid-green"],[1,"pr-0"],["mat-icon-button","","color","primary",1,"tbl-action-btn",3,"click"],["matRipple","",3,"click"],[1,"tbl-spinner"],["color","primary","mode","indeterminate",3,"diameter"],["mat-menu-item","",3,"click"],[1,"no-results"]],template:function(t,o){if(1&t&&(e.TgZ(0,"section",0)(1,"div",1),e.YNc(2,be,2,3,"div",2),e.TgZ(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"ul",8)(9,"li",9)(10,"h2"),e._uU(11,"Generators"),e.qZA()(),e.TgZ(12,"li",10)(13,"label",11)(14,"i",12),e._uU(15,"search"),e.qZA()(),e._UZ(16,"input",13,14),e.qZA()()(),e.TgZ(18,"div",15)(19,"ul",16)(20,"li",17)(21,"div",18)(22,"button",19),e.NdJ("click",function(){return o.addNew()}),e.TgZ(23,"mat-icon",20),e._uU(24,"add"),e.qZA()()()(),e.TgZ(25,"li",17)(26,"div",21)(27,"button",19),e.NdJ("click",function(){return o.refresh()}),e.TgZ(28,"mat-icon",20),e._uU(29,"refresh"),e.qZA()()()(),e.TgZ(30,"li",17)(31,"div",22)(32,"button",23),e.NdJ("click",function(){return o.removeSelectedRows()}),e.TgZ(33,"mat-icon",20),e._uU(34,"delete "),e.qZA()()()(),e.TgZ(35,"li")(36,"div",24)(37,"img",25),e.NdJ("click",function(){return o.exportExcel()}),e.qZA()()()()()(),e.TgZ(38,"div",26)(39,"div",27)(40,"table",28,29),e.ynx(42,30),e.YNc(43,Ze,2,4,"mat-header-cell",31),e.YNc(44,xe,2,3,"mat-cell",32),e.BQk(),e.ynx(45,33),e.YNc(46,Te,2,0,"mat-header-cell",34),e.YNc(47,Ce,2,1,"mat-cell",35),e.BQk(),e.ynx(48,36),e.YNc(49,Ne,2,0,"mat-header-cell",34),e.YNc(50,Ge,4,1,"mat-cell",37),e.BQk(),e.ynx(51,38),e.YNc(52,ye,2,0,"mat-header-cell",34),e.YNc(53,Ae,4,1,"mat-cell",37),e.BQk(),e.ynx(54,39),e.YNc(55,Se,2,0,"mat-header-cell",34),e.YNc(56,we,4,2,"mat-cell",37),e.BQk(),e.ynx(57,40),e.YNc(58,De,2,0,"mat-header-cell",34),e.YNc(59,qe,4,2,"mat-cell",37),e.BQk(),e.ynx(60,41),e.YNc(61,Ue,2,0,"mat-header-cell",34),e.YNc(62,Me,5,3,"mat-cell",37),e.BQk(),e.ynx(63,42),e.YNc(64,Je,2,0,"mat-header-cell",34),e.YNc(65,ke,5,1,"mat-cell",43),e.BQk(),e.ynx(66,44),e.YNc(67,Ee,2,0,"mat-header-cell",45),e.YNc(68,Ie,7,3,"mat-cell",46),e.BQk(),e.YNc(69,Qe,1,0,"mat-header-row",47),e.YNc(70,Ye,1,2,"mat-row",48),e.qZA()(),e.YNc(71,Be,2,1,"div",49),e._UZ(72,"div",50),e.TgZ(73,"mat-menu",null,51),e.YNc(75,Oe,10,2,"ng-template",52),e.qZA(),e.YNc(76,Le,2,2,"div",53),e._UZ(77,"mat-paginator",54,55),e.qZA()()()()()()),2&t){const i=e.MAs(74);e.xp6(2),e.Q6J("ngForOf",o.breadscrums),e.xp6(29),e.Q6J("hidden",!o.selection.hasValue()),e.xp6(9),e.Q6J("dataSource",o.dataSource),e.xp6(29),e.Q6J("matHeaderRowDef",o.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",o.displayedColumns),e.xp6(1),e.Q6J("ngIf",null==o.exampleDatabase?null:o.exampleDatabase.isTblLoading),e.xp6(1),e.Udp("left",o.contextMenuPosition.x)("top",o.contextMenuPosition.y),e.Q6J("matMenuTriggerFor",i),e.xp6(4),e.Q6J("ngIf",!(null!=o.exampleDatabase&&o.exampleDatabase.isTblLoading)),e.xp6(1),e.Q6J("length",o.dataSource.filteredData.length)("pageIndex",0)("pageSize",10)("pageSizeOptions",e.DdM(16,Re))}},dependencies:[d.mk,d.sg,d.O5,h.BZ,h.fO,h.as,h.w1,h.Dz,h.nj,h.ge,h.ev,h.XQ,h.Gk,M.NW,Z.RK,Z.nh,k.Hw,F.oG,P.Ou,G.YE,G.nU,b.VK,b.OP,b.KA,b.p6,fe.gM,H.L,V.pW,p.wG]}),n})();class Pe extends U.o2{get filter(){return this.filterChange.value}set filter(a){this.filterChange.next(a)}constructor(a,t,o){super(),this.exampleDatabase=a,this.paginator=t,this._sort=o,this.filterChange=new pe.X(""),this.filteredData=[],this.renderedData=[],this.filterChange.subscribe(()=>this.paginator.pageIndex=0)}connect(){const a=[this.exampleDatabase.dataChange,this._sort.sortChange,this.filterChange,this.paginator.page];return this.exampleDatabase.getAllAdvanceTables(),(0,L.T)(...a).pipe((0,_e.U)(()=>{this.filteredData=this.exampleDatabase.data.slice().filter(i=>-1!==(i.companyName+i.model+i.id+i.serialNumber+i.beltNumber+i.oilFilterNumber+i.fuelFilterNumber+i.airFilterNumber+i.batterySerialNumber).toLowerCase().indexOf(this.filter.toLowerCase()));const t=this.sortData(this.filteredData.slice());return this.renderedData=t.splice(this.paginator.pageIndex*this.paginator.pageSize,this.paginator.pageSize),this.renderedData}))}disconnect(){}sortData(a){return this._sort.active&&""!==this._sort.direction?a.sort((t,o)=>{let i="",r="";switch(this._sort.active){case"id":case"generatorId":[i,r]=[t.id,o.id];break;case"serialNumber":[i,r]=[t.serialNumber,o.serialNumber];break;case"hoursRun":[i,r]=[t.hoursRun,o.hoursRun];break;case"prevOilHour":[i,r]=[t.prevOilHour,o.prevOilHour];break;case"remaining":[i,r]=[t.getRemainingHours(),o.getRemainingHours()]}return((isNaN(+i)?i:+i)<(isNaN(+r)?r:+r)?-1:1)*("asc"===this._sort.direction?1:-1)}):a}}var m=s(4006),y=s(7930),A=s(7855),K=s(4080),E=s(2687),v=s(2289),$=s(8184),u=s(7340),z=s(9521),He=s(7579),S=s(9300),I=s(5698);function Ve(n,a){}const Ke={bottomSheetState:(0,u.X$)("state",[(0,u.SB)("void, hidden",(0,u.oB)({transform:"translateY(100%)"})),(0,u.SB)("visible",(0,u.oB)({transform:"translateY(0%)"})),(0,u.eR)("visible => void, visible => hidden",(0,u.ru)([(0,u.jt)(`${p.mZ.COMPLEX} ${p.yN.ACCELERATION_CURVE}`),(0,u.IO)("@*",(0,u.pV)(),{optional:!0})])),(0,u.eR)("void => visible",(0,u.ru)([(0,u.jt)(`${p.mZ.EXITING} ${p.yN.DECELERATION_CURVE}`),(0,u.IO)("@*",(0,u.pV)(),{optional:!0})]))])};let $e=(()=>{class n extends A.LL{constructor(t,o,i,r,l,c,_,g,D,q){super(t,o,i,r,l,c,_,q),this._changeDetectorRef=D,this._animationState="void",this._animationStateChanged=new e.vpe,this._breakpointSubscription=g.observe([v.u3.Medium,v.u3.Large,v.u3.XLarge]).subscribe(()=>{this._toggleClass("mat-bottom-sheet-container-medium",g.isMatched(v.u3.Medium)),this._toggleClass("mat-bottom-sheet-container-large",g.isMatched(v.u3.Large)),this._toggleClass("mat-bottom-sheet-container-xlarge",g.isMatched(v.u3.XLarge))})}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges())}exit(){this._destroyed||(this._animationState="hidden",this._changeDetectorRef.markForCheck())}ngOnDestroy(){super.ngOnDestroy(),this._breakpointSubscription.unsubscribe(),this._destroyed=!0}_onAnimationDone(t){"visible"===t.toState&&this._trapFocus(),this._animationStateChanged.emit(t)}_onAnimationStart(t){this._animationStateChanged.emit(t)}_captureInitialFocus(){}_toggleClass(t,o){this._elementRef.nativeElement.classList.toggle(t,o)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(E.qV),e.Y36(d.K0,8),e.Y36(A.ib),e.Y36(E.ic),e.Y36(e.R0b),e.Y36($.Iu),e.Y36(v.Yg),e.Y36(e.sBO),e.Y36(E.tE))},n.\u0275cmp=e.Xpm({type:n,selectors:[["mat-bottom-sheet-container"]],hostAttrs:["tabindex","-1",1,"mat-bottom-sheet-container"],hostVars:4,hostBindings:function(t,o){1&t&&e.WFA("@state.start",function(r){return o._onAnimationStart(r)})("@state.done",function(r){return o._onAnimationDone(r)}),2&t&&(e.uIk("role",o._config.role)("aria-modal",o._config.ariaModal)("aria-label",o._config.ariaLabel),e.d8E("@state",o._animationState))},features:[e.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,o){1&t&&e.YNc(0,Ve,0,0,"ng-template",0)},dependencies:[K.Pl],styles:[".mat-bottom-sheet-container{padding:8px 16px;min-width:100vw;box-sizing:border-box;display:block;outline:0;max-height:80vh;overflow:auto}.cdk-high-contrast-active .mat-bottom-sheet-container{outline:1px solid}.mat-bottom-sheet-container-xlarge,.mat-bottom-sheet-container-large,.mat-bottom-sheet-container-medium{border-top-left-radius:4px;border-top-right-radius:4px}.mat-bottom-sheet-container-medium{min-width:384px;max-width:calc(100vw - 128px)}.mat-bottom-sheet-container-large{min-width:512px;max-width:calc(100vw - 256px)}.mat-bottom-sheet-container-xlarge{min-width:576px;max-width:calc(100vw - 384px)}"],encapsulation:2,data:{animation:[Ke.bottomSheetState]}}),n})(),X=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[A.Su,p.BQ,K.eL,p.BQ]}),n})();const ze=new e.OlP("MatBottomSheetData");class Xe{constructor(){this.data=null,this.hasBackdrop=!0,this.disableClose=!1,this.ariaLabel=null,this.ariaModal=!0,this.closeOnNavigation=!0,this.autoFocus="dialog",this.restoreFocus=!0}}class Q{get instance(){return this._ref.componentInstance}constructor(a,t,o){this._ref=a,this._afterOpened=new He.x,this.containerInstance=o,this.disableClose=t.disableClose,o._animationStateChanged.pipe((0,S.h)(i=>"done"===i.phaseName&&"visible"===i.toState),(0,I.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),o._animationStateChanged.pipe((0,S.h)(i=>"done"===i.phaseName&&"hidden"===i.toState),(0,I.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._ref.close(this._result)}),a.overlayRef.detachments().subscribe(()=>{this._ref.close(this._result)}),(0,L.T)(this.backdropClick(),this.keydownEvents().pipe((0,S.h)(i=>i.keyCode===z.hY))).subscribe(i=>{!this.disableClose&&("keydown"!==i.type||!(0,z.Vb)(i))&&(i.preventDefault(),this.dismiss())})}dismiss(a){this.containerInstance&&(this.containerInstance._animationStateChanged.pipe((0,S.h)(t=>"start"===t.phaseName),(0,I.q)(1)).subscribe(t=>{this._closeFallbackTimeout=setTimeout(()=>{this._ref.close(this._result)},t.totalTime+100),this._ref.overlayRef.detachBackdrop()}),this._result=a,this.containerInstance.exit(),this.containerInstance=null)}afterDismissed(){return this._ref.closed}afterOpened(){return this._afterOpened}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}}const je=new e.OlP("mat-bottom-sheet-default-options");let We=(()=>{class n{get _openedBottomSheetRef(){const t=this._parentBottomSheet;return t?t._openedBottomSheetRef:this._bottomSheetRefAtThisLevel}set _openedBottomSheetRef(t){this._parentBottomSheet?this._parentBottomSheet._openedBottomSheetRef=t:this._bottomSheetRefAtThisLevel=t}constructor(t,o,i,r){this._overlay=t,this._parentBottomSheet=i,this._defaultOptions=r,this._bottomSheetRefAtThisLevel=null,this._dialog=o.get(A.Vq)}open(t,o){const i={...this._defaultOptions||new Xe,...o};let r;return this._dialog.open(t,{...i,disableClose:!0,closeOnOverlayDetachments:!1,maxWidth:"100%",container:$e,scrollStrategy:i.scrollStrategy||this._overlay.scrollStrategies.block(),positionStrategy:this._overlay.position().global().centerHorizontally().bottom("0"),templateContext:()=>({bottomSheetRef:r}),providers:(l,c,_)=>(r=new Q(l,i,_),[{provide:Q,useValue:r},{provide:ze,useValue:i.data}])}),r.afterDismissed().subscribe(()=>{this._openedBottomSheetRef===r&&(this._openedBottomSheetRef=null)}),this._openedBottomSheetRef?(this._openedBottomSheetRef.afterDismissed().subscribe(()=>r.containerInstance?.enter()),this._openedBottomSheetRef.dismiss()):r.containerInstance.enter(),this._openedBottomSheetRef=r,r}dismiss(t){this._openedBottomSheetRef&&this._openedBottomSheetRef.dismiss(t)}ngOnDestroy(){this._bottomSheetRefAtThisLevel&&this._bottomSheetRefAtThisLevel.dismiss()}}return n.\u0275fac=function(t){return new(t||n)(e.LFG($.aV),e.LFG(e.zs3),e.LFG(n,12),e.LFG(je,8))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:X}),n})();var C=s(9549),j=s(4144),Y=s(1948),w=s(9602),x=s(6257),W=s(4633);function et(n,a){if(1&n&&(e.TgZ(0,"div",44),e._UZ(1,"app-breadcrumb",45),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Q6J("title",t.title)("items",t.items)("active_item",t.active)}}function tt(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"li")(1,"button",8),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.editGen())}),e._UZ(2,"i",9),e.qZA()()}2&n&&(e.xp6(2),e.Q6J("ngClass","fas fa-edit card-icon col-red font-18"))}function nt(n,a){1&n&&e._uU(0,"Basic details")}function ot(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Company is required "),e.qZA())}function it(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Model is required "),e.qZA())}function at(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Select Single/Three phase "),e.qZA())}function rt(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"mat-label",46),e._uU(2,"Phase"),e.qZA(),e.TgZ(3,"mat-radio-group",47),e.NdJ("change",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.onKeydown())}),e.TgZ(4,"mat-radio-button",48),e._uU(5,"Single Phase"),e.qZA(),e.TgZ(6,"mat-radio-button",49),e._uU(7,"Three Phase"),e.qZA(),e.YNc(8,at,2,0,"mat-error",7),e.qZA()()}if(2&n){const t=e.oxw();let o;e.xp6(4),e.Q6J("checked",!t.generator.is3Phase),e.xp6(2),e.Q6J("checked",t.generator.is3Phase),e.xp6(2),e.Q6J("ngIf",null==(o=t.basicDetailsGroup.get("is3Phase"))?null:o.hasError("required"))}}function st(n,a){if(1&n&&(e.TgZ(0,"div")(1,"mat-form-field",16)(2,"mat-label"),e._uU(3,"Phase"),e.qZA(),e._UZ(4,"input",50),e.TgZ(5,"mat-icon",18),e._uU(6,"face"),e.qZA()()()),2&n){const t=e.oxw();e.xp6(4),e.s9C("value",t.phaseVal),e.Q6J("readonly",!0)}}function lt(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Power is required "),e.qZA())}function ct(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Please enter a valid Serial number "),e.qZA())}function mt(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Year of manufacturing is required "),e.qZA())}function ut(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",2)(1,"div",21)(2,"div",51)(3,"button",52),e._uU(4,"Next"),e.qZA(),e.TgZ(5,"button",53),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.viewGen())}),e._uU(6,"Cancel"),e.qZA()()()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("disabled",t.isEditMode&&!t.basicDetailsGroup.valid)}}function dt(n,a){1&n&&e._uU(0,"Service details")}function pt(n,a){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.AsE(" ",t.generator.oilChangeDuration-(t.generator.hoursRun-t.generator.prevOilHour)," hours of ",t.generator.oilChangeDuration," remaining ")}}function ht(n,a){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.AsE(" Extra ",-(t.generator.oilChangeDuration-(t.generator.hoursRun-t.generator.prevOilHour))," hours run after ",t.generator.oilChangeDuration," ")}}function _t(n,a){if(1&n&&e._UZ(0,"div",56),2&n){const t=e.oxw(2);e.Q6J("ngClass",t.generator.serviceProgress.ngclass)}}function gt(n,a){if(1&n&&e._UZ(0,"div",56),2&n){const t=e.oxw(2);e.Q6J("ngClass",t.generator.serviceProgress.ngclass)}}function ft(n,a){if(1&n&&(e.TgZ(0,"div",2)(1,"div",21)(2,"mat-label"),e._uU(3,"Generator Health - "),e.TgZ(4,"b"),e._uU(5),e.qZA(),e._uU(6,"%"),e.qZA(),e.YNc(7,pt,2,2,"div",7),e.YNc(8,ht,2,2,"div",7),e.TgZ(9,"div",54),e.YNc(10,_t,1,1,"div",55),e.YNc(11,gt,1,1,"div",55),e.qZA()()()),2&n){const t=e.oxw();e.xp6(5),e.Oqu(t.generator.serviceProgress.health),e.xp6(2),e.Q6J("ngIf",0===t.generator.serviceProgress.overShoot),e.xp6(1),e.Q6J("ngIf",1===t.generator.serviceProgress.overShoot),e.xp6(2),e.Q6J("ngIf",0===t.generator.serviceProgress.overShoot),e.xp6(1),e.Q6J("ngIf",1===t.generator.serviceProgress.overShoot)}}function vt(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Oil volume is required "),e.qZA())}function bt(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Oil change duration is required "),e.qZA())}function Zt(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Current hours run is required "),e.qZA())}function xt(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Last oil change is required "),e.qZA())}function Tt(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Previous oil change Date is required "),e.qZA())}function Ct(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Oil Filter number is required "),e.qZA())}function Nt(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Air Filter number is required "),e.qZA())}function Gt(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Fuel Filter number is required "),e.qZA())}function yt(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Belt number is required "),e.qZA())}function At(n,a){if(1&n&&(e.TgZ(0,"div",2)(1,"div",21)(2,"div",51)(3,"button",52),e._uU(4,"Next"),e.qZA(),e.TgZ(5,"button",57),e._uU(6,"Previous"),e.qZA()()()()),2&n){const t=e.oxw();e.xp6(3),e.Q6J("disabled",t.isEditMode&&!t.serviceDetailsGroup.valid)}}function St(n,a){1&n&&e._uU(0,"Battery details")}function wt(n,a){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.AsE("",t.generator.maintenanceProgress.daysRemain," days of ",t.generator.maintenanceProgress.totalDays," m remaining. ")}}function Dt(n,a){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.AsE("Extra ",-t.generator.maintenanceProgress.daysRemain," days after ",t.generator.maintenanceProgress.totalDays," of battery warranty. ")}}function qt(n,a){if(1&n&&e._UZ(0,"div",56),2&n){const t=e.oxw(2);e.Q6J("ngClass",t.generator.maintenanceProgress.ngclass)}}function Ut(n,a){if(1&n&&e._UZ(0,"div",56),2&n){const t=e.oxw(2);e.Q6J("ngClass",t.generator.maintenanceProgress.ngclass)}}function Mt(n,a){if(1&n&&(e.TgZ(0,"div",2)(1,"div",21)(2,"mat-label"),e._uU(3,"Battery Health : "),e.TgZ(4,"b"),e._uU(5),e.qZA(),e._uU(6,"% "),e.YNc(7,wt,2,2,"div",7),e.YNc(8,Dt,2,2,"div",7),e.qZA(),e.TgZ(9,"div",54),e.YNc(10,qt,1,1,"div",55),e.YNc(11,Ut,1,1,"div",55),e.qZA()()()),2&n){const t=e.oxw();e.xp6(5),e.Oqu(t.generator.maintenanceProgress.health),e.xp6(2),e.Q6J("ngIf",0===t.generator.maintenanceProgress.overShoot),e.xp6(1),e.Q6J("ngIf",1===t.generator.maintenanceProgress.overShoot),e.xp6(2),e.Q6J("ngIf",0===t.generator.maintenanceProgress.overShoot),e.xp6(1),e.Q6J("ngIf",1===t.generator.maintenanceProgress.overShoot)}}function Jt(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Battery Company is required "),e.qZA())}function kt(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Service duration is required "),e.qZA())}function Et(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Battery Capacity is required "),e.qZA())}function It(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Installation Date is required "),e.qZA())}function Qt(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Installation Date is required "),e.qZA())}function Yt(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",2)(1,"div",21)(2,"div",51)(3,"button",58),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.confirmAdd())}),e._uU(4),e.qZA(),e.TgZ(5,"button",57),e._uU(6,"Previous"),e.qZA()()()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("disabled",t.isEditMode&&!t.batteryDetailsGroup.valid),e.xp6(1),e.hij("","edit"===t.action?"Edit ":"Add","Generator")}}let Bt=(()=>{class n extends O.n{constructor(t,o,i,r,l,c,_){super(),this.httpClient=t,this.advanceTableService=o,this.snackBar=i,this.router=r,this.location=l,this.fb=c,this._bottomSheet=_,this.isEditMode=!1,this.isGenIdSub=!1,this.isErrorSub=!1,this.isNewGenSub=!1,this.phaseVal="",this.fromHere=!1,this.breadscrums=[{title:"Generators",items:["Generators"],active:"New"}],this.data=this.location.getState(),this.action=this.data.action,"edit"===this.action?(this.isEditMode=!0,this.breadscrums[0].active="Edit "+this.data.generator.id,this.dialogTitle=this.data.generator.id,this.generator=new y.R(this.data.generator)):"add"==this.action?(this.isEditMode=!0,this.dialogTitle="New Generator",this.generator=new y.R({})):(this.isEditMode=!1,this.dialogTitle=this.data.generator.id,this.breadscrums[0].active=this.data.generator.id,this.generator=new y.R(this.data.generator)),this.basicDetailsGroup=this.createBasicFormGroup(),this.serviceDetailsGroup=this.createServiceFormGroup(),this.batteryDetailsGroup=this.createBatteryFormGroup(),this.phaseVal=this.generator.is3Phase?"Three Phase":"Single Phase",this.generator.calculateProgress()}ngOnInit(){this.newGenSubs=this.advanceTableService.newGen.subscribe({next:t=>{this.isNewGenSub?(this.generator=t,this.showNotification("snackbar-success","Generator saved successfully","bottom","center"),this.isEditMode=!1,this.fromHere||this.router.navigateByUrl("/gens")):this.isNewGenSub=!0}}),this.errorSubs=this.advanceTableService.errors.subscribe({next:t=>{this.isErrorSub?this.showNotification("snackbar-danger",t.error,"bottom","center"):this.isErrorSub=!0}}),this.genIdSubs=this.advanceTableService.genId.subscribe({next:t=>{this.isGenIdSub?this.basicDetailsGroup.get("id")?.setValue(t):this.isGenIdSub=!0},error:t=>{this.isGenIdSub?console.log(t):this.isGenIdSub=!0}})}createServiceFormGroup(){return this.fb.group({oilVol:[this.generator.oilVol],oilChangeDuration:[this.generator.oilChangeDuration],prevOilHour:[this.generator.prevOilHour,[m.kI.required]],prevOilDate:[(0,d.p6)(this.generator.prevOilDate,"YYYY-MM-dd","en"),[m.kI.required]],hoursRun:[this.generator.hoursRun,[m.kI.required]],fuelFilterNumber:[this.generator.fuelFilterNumber],oilFilterNumber:[this.generator.oilFilterNumber],airFilterNumber:[this.generator.airFilterNumber],beltNumber:[this.generator.beltNumber]})}showNotification(t,o,i,r){this.snackBar.open(o,"",{duration:2e3,verticalPosition:i,horizontalPosition:r,panelClass:t})}ngOnDestroy(){super.ngOnDestroy(),this.isErrorSub&&(this.errorSubs?.unsubscribe(),this.isErrorSub=!1),this.isGenIdSub&&(this.genIdSubs?.unsubscribe(),this.isGenIdSub=!1),this.isNewGenSub&&(this.newGenSubs?.unsubscribe(),this.isNewGenSub=!1)}createBasicFormGroup(){return this.fb.group({id:[this.generator.id],model:[this.generator.model],companyName:[this.generator.companyName,[m.kI.required]],kw:[this.generator.kw,[m.kI.required]],serialNumber:[this.generator.serialNumber,[m.kI.required]],yearOfMnf:[this.generator.yearOfMnf],is3Phase:[this.generator.is3Phase,[m.kI.required]]})}createBatteryFormGroup(){return this.fb.group({batteryCompanyName:[this.generator.batteryCompanyName],batteryCapacity:[this.generator.batteryCapacity],replaceDurationMonths:[this.generator.replaceDurationMonths],batterySerialNumber:[this.generator.batterySerialNumber,[m.kI.required]],installationDate:[(0,d.p6)(this.generator.installationDate,"YYYY-MM-dd","en"),[m.kI.required]]})}confirmAdd(){const t=new y.R(this.basicDetailsGroup.getRawValue());t.fillValuesFromBattery(this.batteryDetailsGroup.getRawValue()),t.fillValuesFromService(this.serviceDetailsGroup.getRawValue()),"edit"===this.action?this.advanceTableService.updateAdvanceTable(this.dialogTitle,t):this.advanceTableService.addAdvanceTable(t)}onKeydown(){const t=this.basicDetailsGroup.get("companyName")?.value.trim();if(t.length<4)return;const o=this.basicDetailsGroup.get("kw")?.value,i=this.basicDetailsGroup.get("is3Phase")?.value;this.advanceTableService.getGenId(t,o,i)}openBottomSheet(){this._bottomSheet.open(Ot)}editGen(){this.isEditMode=!0,this.action="edit",this.fromHere=!0}viewGen(){this.isEditMode=!1,this.fromHere||this.router.navigateByUrl("/gens")}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(R.eN),e.Y36(T.T),e.Y36(J.ux),e.Y36(N.F0),e.Y36(d.Ye),e.Y36(m.QS),e.Y36(We))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-new"]],features:[e.qOj],decls:214,vars:63,consts:[[1,"content"],[1,"content-block"],[1,"row"],[1,"col-xl-6","col-lg-6","col-md-12","col-sm-12","mb-2"],["class","block-header",4,"ngFor","ngForOf"],[1,"col-xs-12","col-sm-12","col-md-12","col-lg-12"],[1,"breadcrumb"],[4,"ngIf"],["mat-icon-button","","color","primary",1,"tbl-action-btn",3,"click"],[3,"ngClass"],[1,"card"],[3,"linear"],["stepper",""],[3,"stepControl"],["matStepLabel",""],[1,"register-form","m-4",3,"formGroup"],["appearance","outline",1,"example-full-width"],["matInput","","formControlName","id",3,"readonly"],["matSuffix",""],["matInput","","formControlName","companyName",3,"readonly","keydown"],["matInput","","formControlName","model",3,"readonly"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12","mb-2"],[1,"m-b-20"],["matInput","","formControlName","kw","type","number",3,"readonly","keydown"],["matInput","","formControlName","serialNumber","required","",3,"readonly"],["matInput","","formControlName","yearOfMnf","type","number",3,"readonly"],["class","row",4,"ngIf"],[1,"col-xl-4","col-lg-4","col-md-12","col-sm-12","mb-3"],["matInput","","formControlName","oilVol","type","number",3,"readonly"],["matInput","","formControlName","oilChangeDuration","type","number",3,"readonly"],["matInput","","formControlName","hoursRun","type","number",3,"readonly"],["matInput","","formControlName","prevOilHour","type","number",3,"readonly"],["matInput","","formControlName","prevOilDate",3,"matDatepicker","readonly"],["matSuffix","",3,"for"],["picker",""],["matInput","","formControlName","oilFilterNumber",3,"readonly"],["matInput","","formControlName","airFilterNumber",3,"readonly"],["matInput","","formControlName","fuelFilterNumber",3,"readonly"],["matInput","","formControlName","beltNumber",3,"readonly"],["matInput","","formControlName","batteryCompanyName",3,"readonly"],["matInput","","formControlName","replaceDurationMonths","type","number",3,"readonly"],["matInput","","formControlName","batteryCapacity","type","number",3,"readonly"],["matInput","","formControlName","installationDate",3,"matDatepicker","readonly"],["matInput","","formControlName","batterySerialNumber",3,"readonly"],[1,"block-header"],[3,"title","items","active_item"],[1,"msr-3"],["aria-label","Select Phase","formControlName","is3Phase","required","",3,"change"],["value","False",3,"checked"],["value","True",3,"checked"],["matInput","",3,"readonly","value"],[1,"example-button-row"],["mat-raised-button","","matStepperNext","","color","primary",3,"disabled"],["mat-raised-button","","color","warn","tabindex","-1",3,"click"],[1,"progress","shadow-style","mb-2","mt-3"],["role","progressbar","aria-valuemin","0","aria-valuemax","100",3,"ngClass",4,"ngIf"],["role","progressbar","aria-valuemin","0","aria-valuemax","100",3,"ngClass"],["mat-raised-button","","matStepperPrevious","","color","warn","tabindex","-1"],["mat-raised-button","","matStepperNext","","color","primary",3,"disabled","click"]],template:function(t,o){if(1&t&&(e.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3),e.YNc(4,et,2,3,"div",4),e.qZA(),e.TgZ(5,"div",3)(6,"div",2)(7,"div",5)(8,"ul",6),e.YNc(9,tt,3,1,"li",7),e.TgZ(10,"li")(11,"button",8),e.NdJ("click",function(r){return r.stopPropagation()}),e._UZ(12,"i",9),e.qZA()(),e.TgZ(13,"li")(14,"button",8),e.NdJ("click",function(r){return r.stopPropagation()}),e._UZ(15,"i",9),e.qZA()(),e.TgZ(16,"li")(17,"button",8),e.NdJ("click",function(r){return r.stopPropagation()}),e._UZ(18,"i",9),e.qZA()(),e.TgZ(19,"li")(20,"button",8),e.NdJ("click",function(r){return r.stopPropagation()}),e._UZ(21,"i",9),e.qZA()()()()()()(),e.TgZ(22,"div",2)(23,"div",10)(24,"mat-horizontal-stepper",11,12)(26,"mat-step",13),e.YNc(27,nt,1,0,"ng-template",14),e.TgZ(28,"form",15)(29,"div",2)(30,"mat-form-field",16)(31,"mat-label"),e._uU(32,"Generator ID"),e.qZA(),e._UZ(33,"input",17),e.TgZ(34,"mat-icon",18),e._uU(35,"face"),e.qZA()()(),e.TgZ(36,"div",2)(37,"div",3)(38,"mat-form-field",16)(39,"mat-label"),e._uU(40,"Company"),e.qZA(),e.TgZ(41,"input",19),e.NdJ("keydown",function(){return o.onKeydown()}),e.qZA(),e.TgZ(42,"mat-icon",18),e._uU(43,"face"),e.qZA(),e.YNc(44,ot,2,0,"mat-error",7),e.qZA()(),e.TgZ(45,"div",3)(46,"mat-form-field",16)(47,"mat-label"),e._uU(48,"Model"),e.qZA(),e._UZ(49,"input",20),e.TgZ(50,"mat-icon",18),e._uU(51,"face"),e.qZA(),e.YNc(52,it,2,0,"mat-error",7),e.qZA()()(),e.TgZ(53,"div",2)(54,"div",21)(55,"div",22),e.YNc(56,rt,9,3,"div",7),e.YNc(57,st,7,2,"div",7),e.qZA()(),e.TgZ(58,"div",21)(59,"mat-form-field",16)(60,"mat-label"),e._uU(61,"Power (Kw)"),e.qZA(),e.TgZ(62,"input",23),e.NdJ("keydown",function(){return o.onKeydown()}),e.qZA(),e.TgZ(63,"mat-icon",18),e._uU(64,"face"),e.qZA(),e.YNc(65,lt,2,0,"mat-error",7),e.qZA()()(),e.TgZ(66,"div",2)(67,"div",3)(68,"mat-form-field",16)(69,"mat-label"),e._uU(70,"Serial number"),e.qZA(),e._UZ(71,"input",24),e.TgZ(72,"mat-icon",18),e._uU(73,"email"),e.qZA(),e.YNc(74,ct,2,0,"mat-error",7),e.qZA()(),e.TgZ(75,"div",3)(76,"mat-form-field",16)(77,"mat-label"),e._uU(78,"Year of Manufacturing"),e.qZA(),e._UZ(79,"input",25),e.TgZ(80,"mat-icon",18),e._uU(81,"phone"),e.qZA(),e.YNc(82,mt,2,0,"mat-error",7),e.qZA()()(),e.YNc(83,ut,7,1,"div",26),e.qZA()(),e.TgZ(84,"mat-step",13),e.YNc(85,dt,1,0,"ng-template",14),e.TgZ(86,"form",15),e.YNc(87,ft,12,5,"div",26),e.TgZ(88,"div",2)(89,"div",27)(90,"mat-form-field",16)(91,"mat-label"),e._uU(92,"Oil volume (ltr)"),e.qZA(),e._UZ(93,"input",28),e.TgZ(94,"mat-icon",18),e._uU(95,"phone"),e.qZA(),e.YNc(96,vt,2,0,"mat-error",7),e.qZA()(),e.TgZ(97,"div",27)(98,"mat-form-field",16)(99,"mat-label"),e._uU(100,"Oil change duration (hrs)"),e.qZA(),e._UZ(101,"input",29),e.TgZ(102,"mat-icon",18),e._uU(103,"phone"),e.qZA(),e.YNc(104,bt,2,0,"mat-error",7),e.qZA()(),e.TgZ(105,"div",27)(106,"mat-form-field",16)(107,"mat-label"),e._uU(108,"Current hours run"),e.qZA(),e._UZ(109,"input",30),e.TgZ(110,"mat-icon",18),e._uU(111,"phone"),e.qZA(),e.YNc(112,Zt,2,0,"mat-error",7),e.qZA()()(),e.TgZ(113,"div",2)(114,"div",3)(115,"mat-form-field",16)(116,"mat-label"),e._uU(117,"Last oil change (hrs)"),e.qZA(),e._UZ(118,"input",31),e.TgZ(119,"mat-icon",18),e._uU(120,"phone"),e.qZA(),e.YNc(121,xt,2,0,"mat-error",7),e.qZA()(),e.TgZ(122,"div",3)(123,"mat-form-field",16)(124,"mat-label"),e._uU(125,"Last oil change Date"),e.qZA(),e._UZ(126,"input",32)(127,"mat-datepicker-toggle",33)(128,"mat-datepicker",null,34),e.YNc(130,Tt,2,0,"mat-error",7),e.qZA()()(),e.TgZ(131,"div",2)(132,"div",3)(133,"mat-form-field",16)(134,"mat-label"),e._uU(135,"Oil Filter number"),e.qZA(),e._UZ(136,"input",35),e.TgZ(137,"mat-icon",18),e._uU(138,"phone"),e.qZA(),e.YNc(139,Ct,2,0,"mat-error",7),e.qZA()(),e.TgZ(140,"div",3)(141,"mat-form-field",16)(142,"mat-label"),e._uU(143,"Air Filter number"),e.qZA(),e._UZ(144,"input",36),e.TgZ(145,"mat-icon",18),e._uU(146,"phone"),e.qZA(),e.YNc(147,Nt,2,0,"mat-error",7),e.qZA()()(),e.TgZ(148,"div",2)(149,"div",3)(150,"mat-form-field",16)(151,"mat-label"),e._uU(152,"Fuel Filter number"),e.qZA(),e._UZ(153,"input",37),e.TgZ(154,"mat-icon",18),e._uU(155,"phone"),e.qZA(),e.YNc(156,Gt,2,0,"mat-error",7),e.qZA()(),e.TgZ(157,"div",3)(158,"mat-form-field",16)(159,"mat-label"),e._uU(160,"Belt number"),e.qZA(),e._UZ(161,"input",38),e.TgZ(162,"mat-icon",18),e._uU(163,"phone"),e.qZA(),e.YNc(164,yt,2,0,"mat-error",7),e.qZA()()(),e.YNc(165,At,7,1,"div",26),e.qZA()(),e.TgZ(166,"mat-step",13),e.YNc(167,St,1,0,"ng-template",14),e.TgZ(168,"form",15),e.YNc(169,Mt,12,5,"div",26),e.TgZ(170,"div",2)(171,"div",3)(172,"mat-form-field",16)(173,"mat-label"),e._uU(174,"Battery Company"),e.qZA(),e._UZ(175,"input",39),e.TgZ(176,"mat-icon",18),e._uU(177,"phone"),e.qZA(),e.YNc(178,Jt,2,0,"mat-error",7),e.qZA()(),e.TgZ(179,"div",3)(180,"mat-form-field",16)(181,"mat-label"),e._uU(182,"Replacement duration (months)"),e.qZA(),e._UZ(183,"input",40),e.TgZ(184,"mat-icon",18),e._uU(185,"phone"),e.qZA(),e.YNc(186,kt,2,0,"mat-error",7),e.qZA()()(),e.TgZ(187,"div",2)(188,"div",3)(189,"mat-form-field",16)(190,"mat-label"),e._uU(191,"Battery Capacity (KwH)"),e.qZA(),e._UZ(192,"input",41),e.TgZ(193,"mat-icon",18),e._uU(194,"phone"),e.qZA(),e.YNc(195,Et,2,0,"mat-error",7),e.qZA()(),e.TgZ(196,"div",3)(197,"mat-form-field",16)(198,"mat-label"),e._uU(199,"Installation Date"),e.qZA(),e._UZ(200,"input",42)(201,"mat-datepicker-toggle",33)(202,"mat-datepicker",null,34),e.YNc(204,It,2,0,"mat-error",7),e.qZA()()(),e.TgZ(205,"div",2)(206,"mat-form-field",16)(207,"mat-label"),e._uU(208,"Battery serial number"),e.qZA(),e._UZ(209,"input",43),e.TgZ(210,"mat-icon",18),e._uU(211,"qr_scan"),e.qZA(),e.YNc(212,Qt,2,0,"mat-error",7),e.qZA()(),e.YNc(213,Yt,7,2,"div",26),e.qZA()()()()()()()),2&t){const i=e.MAs(129);let r,l,c,_,g,D,q,ee,te,ne,oe,ie,ae,re,se,le,ce,me,ue;e.xp6(4),e.Q6J("ngForOf",o.breadscrums),e.xp6(5),e.Q6J("ngIf",!o.isEditMode),e.xp6(3),e.Q6J("ngClass","fas fa-truck-loading card-icon col-orange font-18"),e.xp6(3),e.Q6J("ngClass","fas fa-wrench card-icon col-blue font-18"),e.xp6(3),e.Q6J("ngClass","fas fa-oil-can card-icon col-blue font-18"),e.xp6(3),e.Q6J("ngClass","fas fa-history card-icon col-green font-18"),e.xp6(3),e.Q6J("linear",!0),e.xp6(2),e.Q6J("stepControl",o.basicDetailsGroup),e.xp6(2),e.Q6J("formGroup",o.basicDetailsGroup),e.xp6(5),e.Q6J("readonly",!0),e.xp6(8),e.Q6J("readonly",!o.isEditMode),e.xp6(3),e.Q6J("ngIf",null==(r=o.basicDetailsGroup.get("companyName"))?null:r.hasError("required")),e.xp6(5),e.Q6J("readonly",!o.isEditMode),e.xp6(3),e.Q6J("ngIf",null==(l=o.basicDetailsGroup.get("model"))?null:l.hasError("required")),e.xp6(4),e.Q6J("ngIf",o.isEditMode),e.xp6(1),e.Q6J("ngIf",!o.isEditMode),e.xp6(5),e.Q6J("readonly",!o.isEditMode),e.xp6(3),e.Q6J("ngIf",null==(c=o.basicDetailsGroup.get("kw"))?null:c.hasError("required")),e.xp6(6),e.Q6J("readonly",!o.isEditMode),e.xp6(3),e.Q6J("ngIf",(null==(_=o.basicDetailsGroup.get("serialNumber"))?null:_.hasError("required"))||(null==(_=o.basicDetailsGroup.get("serialNumber"))?null:_.touched)),e.xp6(5),e.Q6J("readonly",!o.isEditMode),e.xp6(3),e.Q6J("ngIf",null==(g=o.basicDetailsGroup.get("yearOfMnf"))?null:g.hasError("required")),e.xp6(1),e.Q6J("ngIf",o.isEditMode),e.xp6(1),e.Q6J("stepControl",o.serviceDetailsGroup),e.xp6(2),e.Q6J("formGroup",o.serviceDetailsGroup),e.xp6(1),e.Q6J("ngIf",!o.isEditMode),e.xp6(6),e.Q6J("readonly",!o.isEditMode),e.xp6(3),e.Q6J("ngIf",null==(D=o.serviceDetailsGroup.get("oilVol"))?null:D.hasError("required")),e.xp6(5),e.Q6J("readonly",!o.isEditMode),e.xp6(3),e.Q6J("ngIf",null==(q=o.serviceDetailsGroup.get("oilChangeDuration"))?null:q.hasError("required")),e.xp6(5),e.Q6J("readonly",!o.isEditMode),e.xp6(3),e.Q6J("ngIf",null==(ee=o.serviceDetailsGroup.get("hoursRun"))?null:ee.hasError("required")),e.xp6(6),e.Q6J("readonly",!o.isEditMode),e.xp6(3),e.Q6J("ngIf",null==(te=o.serviceDetailsGroup.get("prevOilHour"))?null:te.hasError("required")),e.xp6(5),e.Q6J("matDatepicker",i)("readonly",!o.isEditMode),e.xp6(1),e.Q6J("for",i),e.xp6(3),e.Q6J("ngIf",null==(ne=o.batteryDetailsGroup.get("prevOilDate"))?null:ne.hasError("required")),e.xp6(6),e.Q6J("readonly",!o.isEditMode),e.xp6(3),e.Q6J("ngIf",null==(oe=o.serviceDetailsGroup.get("oilFilterNumber"))?null:oe.hasError("required")),e.xp6(5),e.Q6J("readonly",!o.isEditMode),e.xp6(3),e.Q6J("ngIf",null==(ie=o.serviceDetailsGroup.get("airFilterNumber"))?null:ie.hasError("required")),e.xp6(6),e.Q6J("readonly",!o.isEditMode),e.xp6(3),e.Q6J("ngIf",null==(ae=o.serviceDetailsGroup.get("fuelFilterNumber"))?null:ae.hasError("required")),e.xp6(5),e.Q6J("readonly",!o.isEditMode),e.xp6(3),e.Q6J("ngIf",null==(re=o.serviceDetailsGroup.get("beltNumber"))?null:re.hasError("required")),e.xp6(1),e.Q6J("ngIf",o.isEditMode),e.xp6(1),e.Q6J("stepControl",o.batteryDetailsGroup),e.xp6(2),e.Q6J("formGroup",o.batteryDetailsGroup),e.xp6(1),e.Q6J("ngIf",!o.isEditMode),e.xp6(6),e.Q6J("readonly",!o.isEditMode),e.xp6(3),e.Q6J("ngIf",null==(se=o.batteryDetailsGroup.get("batteryCompanyName"))?null:se.hasError("required")),e.xp6(5),e.Q6J("readonly",!o.isEditMode),e.xp6(3),e.Q6J("ngIf",null==(le=o.batteryDetailsGroup.get("replaceDurationMonths"))?null:le.hasError("required")),e.xp6(6),e.Q6J("readonly",!o.isEditMode),e.xp6(3),e.Q6J("ngIf",null==(ce=o.batteryDetailsGroup.get("batteryCapacity"))?null:ce.hasError("required")),e.xp6(5),e.Q6J("matDatepicker",i)("readonly",!o.isEditMode),e.xp6(1),e.Q6J("for",i),e.xp6(3),e.Q6J("ngIf",null==(me=o.batteryDetailsGroup.get("installationDate"))?null:me.hasError("required")),e.xp6(5),e.Q6J("readonly",!o.isEditMode),e.xp6(3),e.Q6J("ngIf",null==(ue=o.batteryDetailsGroup.get("installationDate"))?null:ue.hasError("required")),e.xp6(1),e.Q6J("ngIf",o.isEditMode)}},dependencies:[d.mk,d.sg,d.O5,m._Y,m.Fj,m.wV,m.JJ,m.JL,m.Q7,m.sg,m.u,C.KE,C.hX,C.TO,C.R9,j.Nt,Z.lW,Z.RK,k.Hw,Y.VQ,Y.U0,w.Mq,w.hl,w.nW,H.L,x.C0,x.VY,x.Vq,x.Ic,x.fd]}),n})(),Ot=(()=>{class n{constructor(t){this._bottomSheetRef=t}openLink(t){this._bottomSheetRef.dismiss(),t.preventDefault()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Q))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-bottom-sheet-overview-example-sheet"]],decls:21,vars:0,consts:[["href","https://keep.google.com/","mat-list-item","",3,"click"],["mat-line",""],["href","https://docs.google.com/","mat-list-item","",3,"click"],["href","https://plus.google.com/","mat-list-item","",3,"click"],["href","https://hangouts.google.com/","mat-list-item","",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"mat-nav-list")(1,"a",0),e.NdJ("click",function(r){return o.openLink(r)}),e.TgZ(2,"span",1),e._uU(3,"Google Keep"),e.qZA(),e.TgZ(4,"span",1),e._uU(5,"Add to a note"),e.qZA()(),e.TgZ(6,"a",2),e.NdJ("click",function(r){return o.openLink(r)}),e.TgZ(7,"span",1),e._uU(8,"Google Docs"),e.qZA(),e.TgZ(9,"span",1),e._uU(10,"Embed in a document"),e.qZA()(),e.TgZ(11,"a",3),e.NdJ("click",function(r){return o.openLink(r)}),e.TgZ(12,"span",1),e._uU(13,"Google Plus"),e.qZA(),e.TgZ(14,"span",1),e._uU(15,"Share with your friends"),e.qZA()(),e.TgZ(16,"a",4),e.NdJ("click",function(r){return o.openLink(r)}),e.TgZ(17,"span",1),e._uU(18,"Google Hangouts"),e.qZA(),e.TgZ(19,"span",1),e._uU(20,"Show to your coworkers"),e.qZA()()())},dependencies:[W.Hk,W.Tg,p.X2],encapsulation:2}),n})();const Lt=[{path:"",component:Fe},{path:"new",component:Bt}];let Rt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[N.Bz.forChild(Lt),N.Bz]}),n})();var Ft=s(4385),Pt=s(3546),Ht=s(3683),Vt=s(1783),Kt=s(5626);let $t=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[T.T],imports:[d.ez,Rt,d.ez,m.u5,m.UX,h.p0,M.TU,C.lN,j.c,J.ZX,Z.ot,k.Ps,Y.Fk,Ft.LD,F.p9,Pt.QW,w.FA,P.Cq,f.Is,G.JX,Ht.g0,b.Tx,Vt.m,Kt.K,x.T5,V.Cv,p.si,p.uc,X]}),n})()}}]);